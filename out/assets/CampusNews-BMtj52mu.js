import{j as e}from"./query-vendor-C4XoQ8tj.js";import{r as a,L as f}from"./react-vendor-BpnWQj_L.js";import{s as b,N as w}from"./index-BvprY0-k.js";import"./i18n-vendor-BT3zpxCT.js";import"./supabase-vendor-NSJvwn9b.js";function S(){const[n,d]=a.useState([]),[m,o]=a.useState(!0),[t,i]=a.useState("all"),[r,x]=a.useState(""),u=["Campus Events","Facilities","Technology","Career","Campus Life","Health & Wellness","Academics","Sports"];a.useEffect(()=>{h()},[]);const h=async()=>{o(!0);try{const{data:s,error:l}=await b.from("campus_news").select("*").eq("status","published").order("created_at",{ascending:!1});if(l){console.error("Error fetching news:",l);return}s&&d(s)}catch(s){console.error("Unexpected error fetching news:",s)}finally{o(!1)}},c=a.useMemo(()=>n.filter(s=>{const l=s.title.toLowerCase().includes(r.toLowerCase())||s.content.toLowerCase().includes(r.toLowerCase()),p=t==="all"||s.category===t;return l&&p}),[n,r,t]),g=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsx(w,{}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Campus News"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Stay updated with the latest happenings"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx("input",{type:"text",placeholder:"Search news...",value:r,onChange:s=>x(s.target.value),className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),e.jsx("i",{className:"ri-search-line absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"})]})}),e.jsxs("div",{className:"mb-8 flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>i("all"),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${t==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"All News"}),u.map(s=>e.jsx("button",{onClick:()=>i(s),className:`px-6 py-2 rounded-lg font-medium transition-all cursor-pointer whitespace-nowrap ${t===s?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:s},s))]}),m?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block w-10 h-10 border-4 border-gray-200 border-t-blue-600 rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading news..."})]}):c.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-200",children:[e.jsx("i",{className:"ri-newspaper-line text-5xl text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No news found"}),e.jsx("p",{className:"text-gray-600",children:r||t!=="all"?"Try adjusting your search or filters":"Check back soon for campus updates"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(s=>e.jsxs(f,{to:`/news/${s.id}`,className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer group",children:[e.jsx("div",{className:"relative h-48 w-full overflow-hidden bg-gray-100",children:s.image_url?e.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-yellow-100",children:e.jsx("i",{className:"ri-newspaper-line text-6xl text-blue-300"})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:s.category}),e.jsx("span",{className:"text-sm text-gray-500",children:g(s.created_at)})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3 text-sm",children:s.content}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-blue-600 font-semibold text-sm",children:["Read More",e.jsx("i",{className:"ri-arrow-right-line ml-2"})]}),s.views_count>0&&e.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[e.jsx("i",{className:"ri-eye-line mr-1"}),s.views_count]})]})]})]},s.id))})]})]})}export{S as default};
//# sourceMappingURL=CampusNews-BMtj52mu.js.map
