import{j as e}from"./query-vendor-C4XoQ8tj.js";import{r as t,u as k,L as i}from"./react-vendor-BpnWQj_L.js";import{u as E,s as F}from"./index-BvprY0-k.js";import"./i18n-vendor-BT3zpxCT.js";import"./supabase-vendor-NSJvwn9b.js";function $(){const[n,f]=t.useState(""),[o,j]=t.useState(""),[d,c]=t.useState(""),[m,x]=t.useState(!1),[w,u]=t.useState(!1),[h,p]=t.useState(""),[b,g]=t.useState(!1),[a,l]=t.useState(null),{signIn:N}=E(),y=k(),v=async s=>{s.preventDefault(),c(""),x(!0);try{await N(n,o),y("/marketplace")}catch(r){c(r.message||"Failed to sign in")}finally{x(!1)}},S=async s=>{s.preventDefault(),g(!0),l(null);try{const{error:r}=await F.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(r)throw r;l({type:"success",text:"Password reset link has been sent to your email. Please check your inbox."}),p("")}catch(r){l({type:"error",text:r.message||"Failed to send reset email"})}finally{g(!1)}};return w?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(i,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-store-3-line text-white text-2xl"})}),e.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"PentU Market"})]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Reset Password"}),e.jsx("p",{className:"mt-2 text-slate-600",children:"Enter your email to receive a reset link"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[a&&e.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start ${a.type==="success"?"bg-emerald-50 border border-emerald-200":"bg-red-50 border border-red-200"}`,children:[e.jsx("i",{className:`${a.type==="success"?"ri-checkbox-circle-line text-emerald-600":"ri-error-warning-line text-red-600"} text-xl mr-3 mt-0.5`}),e.jsx("p",{className:`text-sm ${a.type==="success"?"text-emerald-700":"text-red-700"}`,children:a.text})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"resetEmail",type:"email",required:!0,value:h,onChange:s=>p(s.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all",placeholder:"your.email@pentu.edu"})]}),e.jsx("button",{type:"submit",disabled:b,className:"w-full py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center whitespace-nowrap",children:b?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-mail-send-line mr-2"}),"Send Reset Link"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("button",{onClick:()=>{u(!1),l(null)},className:"text-sm text-slate-600 hover:text-slate-900 font-medium cursor-pointer",children:[e.jsx("i",{className:"ri-arrow-left-line mr-1"}),"Back to Sign In"]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(i,{to:"/",className:"inline-flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-store-3-line text-white text-2xl"})}),e.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"PentU Market"})]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Welcome Back"}),e.jsx("p",{className:"mt-2 text-slate-600",children:"Sign in to your account"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8",children:[d&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 text-xl mr-3 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-600",children:d})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:s=>f(s.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all",placeholder:"your.email@pentu.edu"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700",children:"Password"}),e.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-slate-600 hover:text-slate-900 font-medium cursor-pointer",children:"Forgot password?"})]}),e.jsx("input",{id:"password",type:"password",required:!0,value:o,onChange:s=>j(s.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all",placeholder:"Enter your password"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center whitespace-nowrap",children:m?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-slate-600",children:["Don't have an account?"," ",e.jsx(i,{to:"/register",className:"text-slate-900 hover:text-slate-700 font-semibold cursor-pointer",children:"Sign up"})]})})]})]})})}export{$ as default};
//# sourceMappingURL=Login-CKtdyGeY.js.map
