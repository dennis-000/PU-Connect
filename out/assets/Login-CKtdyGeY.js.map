{"version":3,"file":"Login-CKtdyGeY.js","sources":["../../src/pages/auth/Login.tsx"],"sourcesContent":["\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { supabase } from '../../lib/supabase';\n\nexport default function Login() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\n  const [resetEmail, setResetEmail] = useState('');\n  const [resetLoading, setResetLoading] = useState(false);\n  const [resetMessage, setResetMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\n  const { signIn } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      await signIn(email, password);\n      navigate('/marketplace');\n    } catch (err: any) {\n      setError(err.message || 'Failed to sign in');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleForgotPassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setResetLoading(true);\n    setResetMessage(null);\n\n    try {\n      const { error } = await supabase.auth.resetPasswordForEmail(resetEmail, {\n        redirectTo: `${window.location.origin}/reset-password`,\n      });\n\n      if (error) throw error;\n\n      setResetMessage({\n        type: 'success',\n        text: 'Password reset link has been sent to your email. Please check your inbox.',\n      });\n      setResetEmail('');\n    } catch (err: any) {\n      setResetMessage({\n        type: 'error',\n        text: err.message || 'Failed to send reset email',\n      });\n    } finally {\n      setResetLoading(false);\n    }\n  };\n\n  if (showForgotPassword) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-md w-full\">\n          <div className=\"text-center mb-8\">\n            <Link to=\"/\" className=\"inline-flex items-center space-x-2 mb-6\">\n              <div className=\"w-12 h-12 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg flex items-center justify-center\">\n                <i className=\"ri-store-3-line text-white text-2xl\"></i>\n              </div>\n              <span className=\"text-2xl font-bold text-slate-900\">PentU Market</span>\n            </Link>\n            <h2 className=\"text-3xl font-bold text-slate-900\">Reset Password</h2>\n            <p className=\"mt-2 text-slate-600\">Enter your email to receive a reset link</p>\n          </div>\n\n          <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 p-8\">\n            {resetMessage && (\n              <div className={`mb-6 p-4 rounded-lg flex items-start ${\n                resetMessage.type === 'success'\n                  ? 'bg-emerald-50 border border-emerald-200'\n                  : 'bg-red-50 border border-red-200'\n              }`}>\n                <i className={`${\n                  resetMessage.type === 'success'\n                    ? 'ri-checkbox-circle-line text-emerald-600'\n                    : 'ri-error-warning-line text-red-600'\n                } text-xl mr-3 mt-0.5`}></i>\n                <p className={`text-sm ${\n                  resetMessage.type === 'success' ? 'text-emerald-700' : 'text-red-700'\n                }`}>\n                  {resetMessage.text}\n                </p>\n              </div>\n            )}\n\n            <form onSubmit={handleForgotPassword} className=\"space-y-6\">\n              <div>\n                <label htmlFor=\"resetEmail\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                  Email Address\n                </label>\n                <input\n                  id=\"resetEmail\"\n                  type=\"email\"\n                  required\n                  value={resetEmail}\n                  onChange={(e) => setResetEmail(e.target.value)}\n                  className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all\"\n                  placeholder=\"your.email@pentu.edu\"\n                />\n              </div>\n\n              <button\n                type=\"submit\"\n                disabled={resetLoading}\n                className=\"w-full py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center whitespace-nowrap\"\n              >\n                {resetLoading ? (\n                  <>\n                    <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                    Sending...\n                  </>\n                ) : (\n                  <>\n                    <i className=\"ri-mail-send-line mr-2\"></i>\n                    Send Reset Link\n                  </>\n                )}\n              </button>\n            </form>\n\n            <div className=\"mt-6 text-center\">\n              <button\n                onClick={() => {\n                  setShowForgotPassword(false);\n                  setResetMessage(null);\n                }}\n                className=\"text-sm text-slate-600 hover:text-slate-900 font-medium cursor-pointer\"\n              >\n                <i className=\"ri-arrow-left-line mr-1\"></i>\n                Back to Sign In\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-slate-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full\">\n        <div className=\"text-center mb-8\">\n          <Link to=\"/\" className=\"inline-flex items-center space-x-2 mb-6\">\n            <div className=\"w-12 h-12 bg-gradient-to-br from-slate-700 to-slate-900 rounded-lg flex items-center justify-center\">\n              <i className=\"ri-store-3-line text-white text-2xl\"></i>\n            </div>\n            <span className=\"text-2xl font-bold text-slate-900\">PentU Market</span>\n          </Link>\n          <h2 className=\"text-3xl font-bold text-slate-900\">Welcome Back</h2>\n          <p className=\"mt-2 text-slate-600\">Sign in to your account</p>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-sm border border-slate-200 p-8\">\n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start\">\n              <i className=\"ri-error-warning-line text-red-600 text-xl mr-3 mt-0.5\"></i>\n              <p className=\"text-sm text-red-600\">{error}</p>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-slate-700 mb-2\">\n                Email Address\n              </label>\n              <input\n                id=\"email\"\n                type=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all\"\n                placeholder=\"your.email@pentu.edu\"\n              />\n            </div>\n\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-slate-700\">\n                  Password\n                </label>\n                <button\n                  type=\"button\"\n                  onClick={() => setShowForgotPassword(true)}\n                  className=\"text-sm text-slate-600 hover:text-slate-900 font-medium cursor-pointer\"\n                >\n                  Forgot password?\n                </button>\n              </div>\n              <input\n                id=\"password\"\n                type=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-all\"\n                placeholder=\"Enter your password\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full py-3 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center whitespace-nowrap\"\n            >\n              {loading ? (\n                <>\n                  <i className=\"ri-loader-4-line animate-spin mr-2\"></i>\n                  Signing in...\n                </>\n              ) : (\n                'Sign In'\n              )}\n            </button>\n          </form>\n\n          <div className=\"mt-6 text-center\">\n            <p className=\"text-sm text-slate-600\">\n              Don't have an account?{' '}\n              <Link to=\"/register\" className=\"text-slate-900 hover:text-slate-700 font-semibold cursor-pointer\">\n                Sign up\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["Login","email","setEmail","useState","password","setPassword","error","setError","loading","setLoading","showForgotPassword","setShowForgotPassword","resetEmail","setResetEmail","resetLoading","setResetLoading","resetMessage","setResetMessage","signIn","useAuth","navigate","useNavigate","handleSubmit","e","err","handleForgotPassword","supabase","jsxs","Link","jsx","Fragment"],"mappings":"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"}