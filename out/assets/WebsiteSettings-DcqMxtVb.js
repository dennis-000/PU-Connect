import{j as e}from"./query-vendor-C4XoQ8tj.js";import{u as h,r as n}from"./react-vendor-BpnWQj_L.js";import{u as f,s as l,N as u}from"./index-BvprY0-k.js";import"./i18n-vendor-BT3zpxCT.js";import"./supabase-vendor-NSJvwn9b.js";function _(){const{profile:o}=f(),i=h(),[g,c]=n.useState(!1),[d,m]=n.useState(!1),[t,x]=n.useState({site_name:"Campus Marketplace",site_tagline:"Buy, Sell & Connect on Campus",hero_title:"Your Campus Marketplace",hero_subtitle:"Connect with students, buy and sell products, discover campus news",hero_cta_text:"Get Started",about_title:"About Our Platform",about_description:"We connect students on campus to buy, sell, and trade products and services.",contact_email:"info@campusmarketplace.com",contact_phone:"+233 XX XXX XXXX",whatsapp_number:"+233 XX XXX XXXX",facebook_url:"",twitter_url:"",instagram_url:"",footer_text:"Â© 2024 Campus Marketplace. All rights reserved."});n.useEffect(()=>{if(o?.role!=="admin"){i("/");return}b()},[o]);const b=async()=>{c(!0);try{const{data:a,error:r}=await l.from("website_settings").select("*").single();if(r&&r.code!=="PGRST116")throw r;a&&x(a)}catch(a){console.error("Error loading settings:",a)}finally{c(!1)}},p=async()=>{m(!0);try{const{data:a}=await l.from("website_settings").select("id").single();if(a){const{error:r}=await l.from("website_settings").update({...t,updated_at:new Date().toISOString()}).eq("id",a.id);if(r)throw r}else{const{error:r}=await l.from("website_settings").insert({...t,updated_at:new Date().toISOString()});if(r)throw r}alert("Settings saved successfully!")}catch(a){alert(a.message||"Failed to save settings")}finally{m(!1)}},s=a=>{x({...t,[a.target.name]:a.target.value})};return g?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(u,{}),e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("i",{className:"ri-loader-4-line text-4xl text-sky-600 animate-spin"})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(u,{}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Website Settings"}),e.jsx("p",{className:"text-gray-600",children:"Update your website content without touching code"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"ri-settings-3-line text-sky-600"}),"General Settings"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),e.jsx("input",{type:"text",name:"site_name",value:t.site_name,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Tagline"}),e.jsx("input",{type:"text",name:"site_tagline",value:t.site_tagline,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"ri-home-heart-line text-sky-600"}),"Homepage Hero Section"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Title"}),e.jsx("input",{type:"text",name:"hero_title",value:t.hero_title,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hero Subtitle"}),e.jsx("textarea",{name:"hero_subtitle",value:t.hero_subtitle,onChange:s,rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call-to-Action Button Text"}),e.jsx("input",{type:"text",name:"hero_cta_text",value:t.hero_cta_text,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"ri-information-line text-sky-600"}),"About Section"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Title"}),e.jsx("input",{type:"text",name:"about_title",value:t.about_title,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Description"}),e.jsx("textarea",{name:"about_description",value:t.about_description,onChange:s,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"ri-contacts-line text-sky-600"}),"Contact Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),e.jsx("input",{type:"email",name:"contact_email",value:t.contact_email,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone"}),e.jsx("input",{type:"tel",name:"contact_phone",value:t.contact_phone,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",name:"whatsapp_number",value:t.whatsapp_number,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"ri-share-line text-sky-600"}),"Social Media Links"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook URL"}),e.jsx("input",{type:"url",name:"facebook_url",value:t.facebook_url,onChange:s,placeholder:"https://facebook.com/yourpage",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter URL"}),e.jsx("input",{type:"url",name:"twitter_url",value:t.twitter_url,onChange:s,placeholder:"https://twitter.com/yourhandle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram URL"}),e.jsx("input",{type:"url",name:"instagram_url",value:t.instagram_url,onChange:s,placeholder:"https://instagram.com/yourhandle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx("i",{className:"ri-layout-bottom-line text-sky-600"}),"Footer"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Footer Text"}),e.jsx("input",{type:"text",name:"footer_text",value:t.footer_text,onChange:s,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent text-sm"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{onClick:()=>i("/admin/dashboard"),className:"px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors whitespace-nowrap cursor-pointer",children:"Cancel"}),e.jsx("button",{onClick:p,disabled:d,className:"px-8 py-3 bg-sky-600 text-white font-medium rounded-lg hover:bg-sky-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer",children:d?"Saving...":"Save Changes"})]})]})]})]})}export{_ as default};
//# sourceMappingURL=WebsiteSettings-DcqMxtVb.js.map
