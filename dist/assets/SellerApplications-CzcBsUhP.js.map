{"version":3,"mappings":"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","names":["SellerApplications","isEmbedded","navigate","useNavigate","profile","useAuth","applications","setApplications","useState","loading","setLoading","filter","setFilter","selectedApp","setSelectedApp","showModal","setShowModal","rejectionReason","setRejectionReason","processing","setProcessing","notification","setNotification","useEffect","timer","fetchApplications","channel","supabase","data","error","handleApprove","application","isValidUUID","isDummy","reviewedBy","secret","profileError","directError","sellerError","appError","sendSMS","__vitePreload","firstName","smsErr","handleReject","handleReset","app","rpcError","err","submitRejection","filteredApplications","stats","a","jsxs","Navbar","jsx","status","Fragment","e"],"ignoreList":[],"sources":["../../src/pages/admin/SellerApplications.tsx"],"sourcesContent":["\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport Navbar from '../../components/feature/Navbar';\r\n\r\ntype Application = {\r\n  id: string;\r\n  user_id: string;\r\n  business_name: string;\r\n  business_category: string;\r\n  business_description: string;\r\n  contact_phone: string;\r\n  contact_email: string;\r\n  business_logo?: string;\r\n  status: 'pending' | 'approved' | 'rejected' | 'cancelled';\r\n  admin_notes?: string;\r\n  created_at: string;\r\n  updated_at: string;\r\n  profiles?: {\r\n    full_name: string;\r\n    email: string;\r\n    student_id: string;\r\n  };\r\n};\r\n\r\ninterface SellerApplicationsProps {\r\n  isEmbedded?: boolean;\r\n}\r\n\r\nexport default function SellerApplications({ isEmbedded = false }: SellerApplicationsProps) {\r\n  const navigate = useNavigate();\r\n  const { profile } = useAuth();\r\n  const [applications, setApplications] = useState<Application[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState<'all' | 'pending' | 'approved' | 'rejected' | 'cancelled'>('all');\r\n  const [selectedApp, setSelectedApp] = useState<Application | null>(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [rejectionReason, setRejectionReason] = useState('');\r\n  const [processing, setProcessing] = useState(false);\r\n  const [notification, setNotification] = useState<{ type: 'success' | 'error' | 'info', message: string } | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (notification) {\r\n      const timer = setTimeout(() => setNotification(null), 4000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [notification]);\r\n\r\n  useEffect(() => {\r\n    if (profile?.role !== 'admin' && profile?.role !== 'super_admin') {\r\n      navigate('/');\r\n      return;\r\n    }\r\n    fetchApplications();\r\n\r\n    // Real-time subscription\r\n    const channel = supabase\r\n      .channel('seller_applications_changes')\r\n      .on(\r\n        'postgres_changes',\r\n        {\r\n          event: '*',\r\n          schema: 'public',\r\n          table: 'seller_applications',\r\n        },\r\n        () => {\r\n          fetchApplications();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, [profile, navigate]);\r\n\r\n  const fetchApplications = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('seller_applications')\r\n        .select(`\r\n          *,\r\n          profiles:user_id (\r\n            full_name,\r\n            email,\r\n            student_id\r\n          )\r\n        `)\r\n        .order('updated_at', { ascending: false });\r\n\r\n      console.log('Admin Dashboard: Current User:', profile?.role, profile?.id); // DEBUG\r\n      console.log('Admin Dashboard: Fetched Applications:', data);\r\n      setApplications(data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching applications:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleApprove = async (application: Application) => {\r\n    if (!confirm(`Approve ${application.business_name}?`)) return;\r\n\r\n    setProcessing(true);\r\n    try {\r\n      // Check if admin ID is a valid UUID (system admin has text ID)\r\n      // If we are the system admin (or any non-UUID), we pass null to reviewed_by\r\n      // because the column is UUID type.\r\n      const isValidUUID = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(profile?.id || '');\r\n      // Ensure we don't pass the dummy UUID which might not exist in profiles table\r\n      const isDummy = profile?.id === '00000000-0000-0000-0000-000000000000';\r\n      const reviewedBy = (isValidUUID && !isDummy) ? profile?.id : null;\r\n\r\n      // 1. Update user role to seller FIRST\r\n      const secret = localStorage.getItem('sys_admin_secret') || 'your_secret_admin_key_here';\r\n      const { error: profileError } = await supabase.rpc('admin_update_user_role', {\r\n        target_user_id: application.user_id,\r\n        new_role: 'seller',\r\n        secret_key: secret\r\n      });\r\n\r\n      if (profileError) {\r\n        console.warn('RPC role update failed, falling back to direct update:', profileError);\r\n        const { error: directError } = await supabase\r\n          .from('profiles')\r\n          .update({ role: 'seller' })\r\n          .eq('id', application.user_id);\r\n        if (directError) throw directError;\r\n      }\r\n\r\n      // 2. Create/Update seller profile\r\n      const { error: sellerError } = await supabase\r\n        .from('seller_profiles')\r\n        .upsert({\r\n          user_id: application.user_id,\r\n          business_name: application.business_name,\r\n          business_category: application.business_category,\r\n          business_description: application.business_description,\r\n          contact_phone: application.contact_phone,\r\n          contact_email: application.contact_email,\r\n          business_logo: application.business_logo,\r\n          is_active: true,\r\n          updated_at: new Date().toISOString()\r\n        }, { onConflict: 'user_id' });\r\n\r\n      if (sellerError) throw sellerError;\r\n\r\n      // 3. Update application status LAST\r\n      // This triggers the real-time redirect on the status page\r\n      const { error: appError } = await supabase\r\n        .from('seller_applications')\r\n        .update({\r\n          status: 'approved',\r\n          reviewed_at: new Date().toISOString(),\r\n          reviewed_by: reviewedBy,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', application.id);\r\n\r\n      if (appError) throw appError;\r\n\r\n      // Send SMS Notification\r\n      if (application.contact_phone) {\r\n        try {\r\n          const { sendSMS } = await import('../../lib/arkesel');\r\n          const firstName = application.profiles?.full_name.split(' ')[0] || 'User';\r\n\r\n          await sendSMS(\r\n            [application.contact_phone],\r\n            `Hi ${firstName}, congratulations! Your seller application for \"${application.business_name}\" on PU Connect has been APPROVED. You can now log in and start listing your products. Happy selling!`\r\n          );\r\n        } catch (smsErr) {\r\n          console.error('Failed to send approval SMS:', smsErr);\r\n          // Don't block the approval if SMS fails, just log it\r\n        }\r\n      }\r\n\r\n      setNotification({ type: 'success', message: 'Application approved successfully!' });\r\n      // The real-time subscription will also catch this, but we fetch to be safe\r\n      fetchApplications();\r\n    } catch (error: any) {\r\n      console.error('Error approving application:', error);\r\n      setNotification({ type: 'error', message: 'Failed to approve: ' + error.message });\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleReject = (application: Application) => {\r\n    setSelectedApp(application);\r\n    setRejectionReason('');\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleReset = async (app: Application) => {\r\n    if (!confirm(`Reset application for ${app.business_name} to Pending?`)) return;\r\n\r\n    setProcessing(true);\r\n    try {\r\n      const { error } = await supabase\r\n        .from('seller_applications')\r\n        .update({ status: 'pending', updated_at: new Date().toISOString() })\r\n        .eq('id', app.id);\r\n\r\n      if (error) throw error;\r\n\r\n      // If resetting from Approved, we should also revert role\r\n      if (app.status === 'approved') {\r\n        // Use RPC to bypass RLS and guarantee update\r\n        const secret = localStorage.getItem('sys_admin_secret') || 'your_secret_admin_key_here';\r\n        const { error: rpcError } = await supabase.rpc('admin_update_user_role', {\r\n          target_user_id: app.user_id,\r\n          new_role: 'buyer',\r\n          secret_key: secret\r\n        });\r\n\r\n        if (rpcError) {\r\n          console.error('Failed to revert role via RPC:', rpcError);\r\n          alert('Warning: Application reset but failed to revert user role.');\r\n        } else {\r\n          // Also deactivate seller profile if exists (using direct update, usually fine if policy set, or could add RPC)\r\n          await supabase.from('seller_profiles').update({ is_active: false }).eq('user_id', app.user_id);\r\n        }\r\n      }\r\n\r\n      setNotification({ type: 'success', message: 'Application reset to Pending' });\r\n      fetchApplications();\r\n    } catch (err: any) {\r\n      setNotification({ type: 'error', message: 'Error resetting: ' + err.message });\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const submitRejection = async () => {\r\n    if (!selectedApp || !rejectionReason.trim()) {\r\n      alert('Please provide a rejection reason');\r\n      return;\r\n    }\r\n\r\n    setProcessing(true);\r\n    try {\r\n      // Check if we are revoking a dummy system admin (bypass mode)\r\n      // This is less likely for rejection but good to keep safe\r\n      const isDummy = selectedApp.user_id === '00000000-0000-0000-0000-000000000000';\r\n      if (isDummy) {\r\n        // Dummy user doesn't have profile, so we skip role updates\r\n      }\r\n\r\n      const { error } = await supabase\r\n        .from('seller_applications')\r\n        .update({\r\n          status: 'rejected',\r\n          admin_notes: rejectionReason,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', selectedApp.id);\r\n\r\n      if (error) throw error;\r\n\r\n      // If Revoking an approved app, cleanup\r\n      if (selectedApp.status === 'approved' && !isDummy) {\r\n        const secret = localStorage.getItem('sys_admin_secret') || 'your_secret_admin_key_here';\r\n        await supabase.rpc('admin_update_user_role', {\r\n          target_user_id: selectedApp.user_id,\r\n          new_role: 'buyer',\r\n          secret_key: secret\r\n        });\r\n        await supabase.from('seller_profiles').update({ is_active: false }).eq('user_id', selectedApp.user_id);\r\n      }\r\n\r\n      setNotification({ type: 'success', message: 'Application rejected successfully' });\r\n      setShowModal(false);\r\n      setSelectedApp(null);\r\n      fetchApplications();\r\n    } catch (error: any) {\r\n      console.error('Error rejecting application:', error);\r\n      setNotification({ type: 'error', message: 'Failed to reject: ' + error.message });\r\n    } finally {\r\n      setProcessing(false);\r\n    }\r\n  };\r\n\r\n  const filteredApplications = applications.filter(app =>\r\n    filter === 'all' ? true : app.status === filter\r\n  );\r\n\r\n  const stats = {\r\n    total: applications.length,\r\n    pending: applications.filter(a => a.status === 'pending').length,\r\n    approved: applications.filter(a => a.status === 'approved').length,\r\n    rejected: applications.filter(a => a.status === 'rejected').length,\r\n    cancelled: applications.filter(a => a.status === 'cancelled').length,\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={isEmbedded ? \"py-20\" : \"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 transition-colors duration-300\"}>\r\n        {!isEmbedded && <Navbar />}\r\n        <div className=\"flex items-center justify-center py-20\">\r\n          <div className=\"text-center\">\r\n            <div className=\"w-16 h-16 border-4 border-teal-600 border-t-transparent rounded-full animate-spin mx-auto\"></div>\r\n            <p className=\"mt-4 text-gray-600 dark:text-gray-400\">Loading applications...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={isEmbedded ? \"animate-in fade-in duration-500\" : \"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 transition-colors duration-300\"}>\r\n      {!isEmbedded && <Navbar />}\r\n\r\n      <div className={isEmbedded ? \"w-full\" : \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 pb-12\"}>\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n\r\n            <div className=\"w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg\">\r\n              <i className=\"ri-file-list-3-line text-2xl text-white\"></i>\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Seller Applications</h1>\r\n              <p className=\"text-gray-600 dark:text-gray-400\">Review and manage seller applications</p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={() => fetchApplications()}\r\n            disabled={loading}\r\n            className=\"flex items-center gap-2 px-6 py-2.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-bold text-xs uppercase tracking-widest rounded-xl border border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all shadow-sm active:scale-95 disabled:opacity-50\"\r\n          >\r\n            <i className={`ri-refresh-line ${loading ? 'animate-spin' : ''}`}></i>\r\n            Sync Data\r\n          </button>\r\n        </div>\r\n\r\n        {/* Notification Toast */}\r\n        {notification && (\r\n          <div className={`fixed top-24 right-4 md:right-8 z-50 animate-in fade-in slide-in-from-right-8 duration-300 px-6 py-4 rounded-2xl shadow-2xl border flex items-center gap-3 backdrop-blur-md ${notification.type === 'success' ? 'bg-emerald-500/90 border-emerald-400/50 text-white' :\r\n            notification.type === 'error' ? 'bg-rose-500/90 border-rose-400/50 text-white' :\r\n              'bg-blue-500/90 border-blue-400/50 text-white'\r\n            }`}>\r\n            <i className={`${notification.type === 'success' ? 'ri-checkbox-circle-fill' : notification.type === 'error' ? 'ri-error-warning-fill' : 'ri-notification-3-fill'} text-xl`}></i>\r\n            <span className=\"font-bold text-sm tracking-wide\">{notification.message}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Stats Cards */}\r\n        {/* Stats Cards */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-8\">\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800 shadow-sm transition-colors\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Total Applications</p>\r\n                <h3 className=\"text-2xl font-black text-gray-900 dark:text-white\">{stats.total}</h3>\r\n              </div>\r\n              <div className=\"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center text-blue-500\">\r\n                <i className=\"ri-file-list-3-fill text-xl\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800 shadow-sm transition-colors\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Pending Review</p>\r\n                <h3 className=\"text-2xl font-black text-amber-500\">{stats.pending}</h3>\r\n              </div>\r\n              <div className=\"w-10 h-10 bg-amber-500/10 rounded-lg flex items-center justify-center text-amber-500\">\r\n                <i className=\"ri-time-fill text-xl\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800 shadow-sm transition-colors\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Approved</p>\r\n                <h3 className=\"text-2xl font-black text-emerald-500\">{stats.approved}</h3>\r\n              </div>\r\n              <div className=\"w-10 h-10 bg-emerald-500/10 rounded-lg flex items-center justify-center text-emerald-500\">\r\n                <i className=\"ri-checkbox-circle-fill text-xl\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800 shadow-sm transition-colors\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Rejected</p>\r\n                <h3 className=\"text-2xl font-black text-red-500\">{stats.rejected}</h3>\r\n              </div>\r\n              <div className=\"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center text-red-500\">\r\n                <i className=\"ri-close-circle-fill text-xl\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800 shadow-sm transition-colors\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Cancelled</p>\r\n                <h3 className=\"text-2xl font-black text-slate-500\">{stats.cancelled}</h3>\r\n              </div>\r\n              <div className=\"w-10 h-10 bg-slate-500/10 rounded-lg flex items-center justify-center text-slate-500\">\r\n                <i className=\"ri-prohibited-line text-xl\"></i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filter Tabs */}\r\n        <div className=\"bg-white dark:bg-gray-900 rounded-xl p-2 mb-6 border border-gray-100 dark:border-gray-800 shadow-sm inline-flex gap-2 w-full sm:w-auto overflow-x-auto transition-colors\">\r\n          {(['all', 'pending', 'approved', 'rejected', 'cancelled'] as const).map((status) => (\r\n            <button\r\n              key={status}\r\n              onClick={() => setFilter(status)}\r\n              className={`px-6 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap cursor-pointer ${filter === status\r\n                ? 'bg-gradient-to-r from-teal-500 to-teal-600 text-white shadow-md'\r\n                : 'text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800'\r\n                }`}\r\n            >\r\n              {status.charAt(0).toUpperCase() + status.slice(1)}\r\n              {status !== 'all' && (\r\n                <span className={`ml-2 px-2 py-0.5 rounded-full text-xs ${filter === status ? 'bg-white/20' : 'bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400'}`}>\r\n                  {stats[status]}\r\n                </span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Applications List */}\r\n        <div className=\"space-y-4\">\r\n          {filteredApplications.length === 0 ? (\r\n            <div className=\"bg-white dark:bg-gray-900 rounded-xl p-12 text-center border border-gray-100 dark:border-gray-800 transition-colors\">\r\n              <i className=\"ri-inbox-line text-6xl text-gray-300 dark:text-gray-700 mb-4\"></i>\r\n              <p className=\"text-gray-500 dark:text-gray-400\">No applications found</p>\r\n            </div>\r\n          ) : (\r\n            filteredApplications.map((app) => (\r\n              <div\r\n                key={app.id}\r\n                className=\"bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-all\"\r\n              >\r\n                <div className=\"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6\">\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex items-start gap-4 mb-4\">\r\n                      <div className=\"w-14 h-14 bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md overflow-hidden\">\r\n                        {app.business_logo ? (\r\n                          <img src={`${app.business_logo}?t=${new Date(app.updated_at).getTime()}`} alt=\"\" className=\"w-full h-full object-cover\" />\r\n                        ) : (\r\n                          <i className=\"ri-store-3-line text-2xl text-white\"></i>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                          <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">{app.business_name}</h3>\r\n                          {app.business_name.startsWith('[Mock]') && (\r\n                            <span className=\"px-2 py-0.5 bg-blue-500/10 text-blue-500 text-[10px] font-black uppercase rounded\">System Test</span>\r\n                          )}\r\n                          <span className={`px-3 py-1 rounded-full text-xs font-semibold ${app.status === 'approved' ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300' :\r\n                            app.status === 'rejected' ? 'bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300' :\r\n                              'bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300'\r\n                            }`}>\r\n                            {app.status.toUpperCase()}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">\r\n                          <i className=\"ri-user-line mr-1\"></i>\r\n                          {app.profiles?.full_name}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                          <i className=\"ri-price-tag-3-line mr-1\"></i>\r\n                          {app.business_category}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4 transition-colors\">\r\n                      <p className=\"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\">{app.business_description}</p>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4\">\r\n                      <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                        <i className=\"ri-phone-line text-teal-600 dark:text-teal-400\"></i>\r\n                        <span>{app.contact_phone}</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400\">\r\n                        <i className=\"ri-mail-line text-teal-600 dark:text-teal-400\"></i>\r\n                        <span>{app.contact_email}</span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500\">\r\n                      <span>\r\n                        <i className=\"ri-calendar-line mr-1\"></i>\r\n                        Applied: {new Date(app.created_at).toLocaleDateString()}\r\n                      </span>\r\n                      {app.updated_at !== app.created_at && (\r\n                        <span>\r\n                          <i className=\"ri-refresh-line mr-1\"></i>\r\n                          Updated: {new Date(app.updated_at).toLocaleDateString()}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n\r\n                    {app.admin_notes && (\r\n                      <div className=\"mt-4 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-900/30 rounded-lg p-4\">\r\n                        <p className=\"text-sm font-semibold text-red-900 dark:text-red-300 mb-1\">Rejection Reason:</p>\r\n                        <p className=\"text-sm text-red-800 dark:text-red-200/80\">{app.admin_notes}</p>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n\r\n\r\n                  <div className=\"flex flex-col gap-3 lg:w-48\">\r\n                    {app.status === 'pending' && (\r\n                      <>\r\n                        <button\r\n                          onClick={() => handleApprove(app)}\r\n                          disabled={processing}\r\n                          className=\"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                          <i className=\"ri-checkbox-circle-line text-lg\"></i>\r\n                          Approve\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleReject(app)}\r\n                          disabled={processing}\r\n                          className=\"w-full px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                          <i className=\"ri-close-circle-line text-lg\"></i>\r\n                          Reject\r\n                        </button>\r\n                      </>\r\n                    )}\r\n\r\n                    {app.status === 'approved' && (\r\n                      <>\r\n                        <button\r\n                          onClick={() => handleReject(app)}\r\n                          disabled={processing}\r\n                          className=\"w-full px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                          <i className=\"ri-prohibited-line text-lg\"></i>\r\n                          Revoke\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleReset(app)}\r\n                          disabled={processing}\r\n                          className=\"w-full px-6 py-3 bg-white border border-yellow-500 text-yellow-600 rounded-lg hover:bg-yellow-50 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                          <i className=\"ri-history-line text-lg\"></i>\r\n                          Re-evaluate\r\n                        </button>\r\n                      </>\r\n                    )}\r\n\r\n                    {app.status === 'rejected' && (\r\n                      <>\r\n                        <button\r\n                          onClick={() => handleApprove(app)}\r\n                          disabled={processing}\r\n                          className=\"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                          <i className=\"ri-checkbox-circle-line text-lg\"></i>\r\n                          Approve\r\n                        </button>\r\n                        <button\r\n                          onClick={() => handleReset(app)}\r\n                          disabled={processing}\r\n                          className=\"w-full px-6 py-3 bg-white border border-yellow-500 text-yellow-600 rounded-lg hover:bg-yellow-50 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer flex items-center justify-center gap-2 shadow-sm\"\r\n                        >\r\n                          <i className=\"ri-history-line text-lg\"></i>\r\n                          Re-evaluate\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Rejection Modal */}\r\n      {\r\n        showModal && (\r\n          <div className=\"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\r\n            <div className=\"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full p-6 shadow-2xl border border-gray-100 dark:border-gray-800\">\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center shadow-lg\">\r\n                  <i className=\"ri-close-circle-line text-2xl text-white\"></i>\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-gray-900 dark:text-white\">Reject Application</h3>\r\n              </div>\r\n\r\n              <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\r\n                Please provide a reason for rejecting <strong>{selectedApp?.business_name}</strong>\r\n              </p>\r\n\r\n              <textarea\r\n                value={rejectionReason}\r\n                onChange={(e) => setRejectionReason(e.target.value)}\r\n                placeholder=\"Enter rejection reason...\"\r\n                rows={4}\r\n                maxLength={500}\r\n                className=\"w-full px-4 py-3 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none mb-2 outline-none\"\r\n              />\r\n              <p className=\"text-xs text-gray-500 dark:text-gray-500 mb-4\">{rejectionReason.length}/500 characters</p>\r\n\r\n              <div className=\"flex gap-3\">\r\n                <button\r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setSelectedApp(null);\r\n                  }}\r\n                  disabled={processing}\r\n                  className=\"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 cursor-pointer\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={submitRejection}\r\n                  disabled={processing || !rejectionReason.trim()}\r\n                  className=\"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all font-medium text-sm whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer shadow-md\"\r\n                >\r\n                  {processing ? 'Rejecting...' : 'Confirm Rejection'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div >\r\n  );\r\n}\r\n"],"file":"SellerApplications-CzcBsUhP.js"}