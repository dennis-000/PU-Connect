{"version":3,"file":"RoleManagement-I7057htF.js","sources":["../../src/pages/admin/RoleManagement.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { supabase } from '../../lib/supabase';\r\nimport Navbar from '../../components/feature/Navbar';\r\n\r\ntype User = {\r\n  id: string;\r\n  email: string;\r\n  full_name: string;\r\n  role: string;\r\n  created_at: string;\r\n};\r\n\r\nexport default function RoleManagement() {\r\n  const navigate = useNavigate();\r\n  const { profile, loading: authLoading } = useAuth();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [activeTab, setActiveTab] = useState<'publishers' | 'admins'>('publishers');\r\n  const [showAddPublisherModal, setShowAddPublisherModal] = useState(false);\r\n  const [showAddAdminModal, setShowAddAdminModal] = useState(false);\r\n  const [notification, setNotification] = useState<{ type: 'success' | 'error', message: string } | null>(null);\r\n\r\n  const [searchCandidateTerm, setSearchCandidateTerm] = useState('');\r\n  const [selectedCandidate, setSelectedCandidate] = useState<User | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading && profile?.role !== 'super_admin') {\r\n      navigate('/marketplace');\r\n    }\r\n  }, [profile, authLoading, navigate]);\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Auto-hide notification\r\n  useEffect(() => {\r\n    if (notification) {\r\n      const timer = setTimeout(() => setNotification(null), 4000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [notification]);\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('profiles')\r\n        .select('id, email, full_name, role, created_at')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) throw error;\r\n      setUsers(data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetModals = () => {\r\n    setShowAddPublisherModal(false);\r\n    setShowAddAdminModal(false);\r\n    setSearchCandidateTerm('');\r\n    setSelectedCandidate(null);\r\n  };\r\n\r\n  const handleAddNewsPublisher = async () => {\r\n    if (!selectedCandidate) {\r\n      setNotification({ type: 'error', message: 'Please select a user first' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (selectedCandidate.role === 'news_publisher') {\r\n        setNotification({ type: 'error', message: 'This user is already a News Publisher' });\r\n        return;\r\n      }\r\n\r\n      const { error: updateError } = await supabase\r\n        .from('profiles')\r\n        .update({ role: 'news_publisher' })\r\n        .eq('id', selectedCandidate.id);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      await fetchUsers();\r\n      resetModals();\r\n      setNotification({ type: 'success', message: 'News Publisher role assigned successfully!' });\r\n    } catch (error) {\r\n      console.error('Error adding news publisher:', error);\r\n      setNotification({ type: 'error', message: 'Failed to assign News Publisher role' });\r\n    }\r\n  };\r\n\r\n  const handleAddAdmin = async () => {\r\n    if (!selectedCandidate) {\r\n      setNotification({ type: 'error', message: 'Please select a user first' });\r\n      return;\r\n    }\r\n\r\n    try {\r\n      if (selectedCandidate.role === 'admin') {\r\n        setNotification({ type: 'error', message: 'This user is already an Administrator' });\r\n        return;\r\n      }\r\n\r\n      const { error: updateError } = await supabase\r\n        .from('profiles')\r\n        .update({ role: 'admin' })\r\n        .eq('id', selectedCandidate.id);\r\n\r\n      if (updateError) throw updateError;\r\n\r\n      await fetchUsers();\r\n      resetModals();\r\n      setNotification({ type: 'success', message: 'Administrator role assigned successfully!' });\r\n    } catch (error) {\r\n      console.error('Error adding admin:', error);\r\n      setNotification({ type: 'error', message: 'Failed to assign Administrator role' });\r\n    }\r\n  };\r\n\r\n  const handleRemoveRole = async (userId: string, userName: string, currentRole: string) => {\r\n    try {\r\n      const { error } = await supabase\r\n        .from('profiles')\r\n        .update({ role: 'buyer' })\r\n        .eq('id', userId);\r\n\r\n      if (error) throw error;\r\n\r\n      await fetchUsers();\r\n      setNotification({ type: 'success', message: 'Role removed successfully' });\r\n    } catch (error) {\r\n      console.error('Error removing role:', error);\r\n      setNotification({ type: 'error', message: 'Failed to remove role' });\r\n    }\r\n  };\r\n\r\n  const newsPublishers = users.filter(u => u.role === 'news_publisher');\r\n  const admins = users.filter(u => u.role === 'admin');\r\n\r\n  // Filter lists for the main view\r\n  const filteredPublishers = newsPublishers.filter(user =>\r\n    user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    user.full_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const filteredAdmins = admins.filter(user =>\r\n    user.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    user.full_name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  // Filter logic for Modals: show users who DO NOT have the role yet\r\n  const getEligibleCandidates = (targetRole: 'admin' | 'news_publisher') => {\r\n    return users\r\n      .filter(u => u.role !== targetRole && u.role !== 'super_admin') // Exclude those who already have it\r\n      .filter(u =>\r\n        u.email.toLowerCase().includes(searchCandidateTerm.toLowerCase()) ||\r\n        u.full_name.toLowerCase().includes(searchCandidateTerm.toLowerCase())\r\n      )\r\n      .slice(0, 10); // Limit to 10 for performance in dropdown\r\n  };\r\n\r\n  const eligibleCandidates = showAddAdminModal\r\n    ? getEligibleCandidates('admin')\r\n    : getEligibleCandidates('news_publisher');\r\n\r\n\r\n  if (authLoading || loading) {\r\n    return (\r\n      <div className=\"min-h-[100dvh] bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 border-4 border-gray-200 border-t-amber-600 rounded-full animate-spin mb-4 mx-auto\"></div>\r\n          <p className=\"text-xs font-bold uppercase tracking-widest text-gray-400\">Loading Access Control...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-[100dvh] bg-gray-50/50 dark:bg-gray-950 transition-colors duration-300 pb-20 font-sans\">\r\n      <Navbar />\r\n\r\n      {/* Floating Notification */}\r\n      {notification && (\r\n        <div className={`fixed top-24 right-4 md:right-8 z-50 animate-in fade-in slide-in-from-right-8 duration-300 px-6 py-4 rounded-2xl shadow-2xl border flex items-center gap-3 backdrop-blur-md ${notification.type === 'success' ? 'bg-emerald-500/90 border-emerald-400/50 text-white' : 'bg-rose-500/90 border-rose-400/50 text-white'}`}>\r\n          <i className={`${notification.type === 'success' ? 'ri-checkbox-circle-fill' : 'ri-error-warning-fill'} text-xl`}></i>\r\n          <span className=\"font-bold text-sm tracking-wide\">{notification.message}</span>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10\">\r\n          <div>\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span className=\"px-2.5 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-[10px] font-bold uppercase tracking-widest border border-amber-200 dark:border-amber-800\">\r\n                System Security\r\n              </span>\r\n              <span className=\"px-2.5 py-0.5 rounded-full bg-cyan-100 dark:bg-cyan-900/30 text-cyan-700 dark:text-cyan-300 text-[10px] font-bold uppercase tracking-widest border border-cyan-200 dark:border-cyan-800\">\r\n                Permissions\r\n              </span>\r\n            </div>\r\n            <h1 className=\"text-3xl md:text-5xl font-bold text-gray-900 dark:text-white tracking-tight mb-2\">\r\n              Roles & Access\r\n            </h1>\r\n            <p className=\"text-gray-500 dark:text-gray-400 font-medium\">\r\n              Manage administrators and special permissions assignments.\r\n            </p>\r\n          </div>\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={() => setShowAddPublisherModal(true)}\r\n              className=\"px-5 py-2.5 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors shadow-sm cursor-pointer\"\r\n            >\r\n              <i className=\"ri-newspaper-line mr-2\"></i>\r\n              Add Publisher\r\n            </button>\r\n            <button\r\n              onClick={() => setShowAddAdminModal(true)}\r\n              className=\"px-5 py-2.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 border border-transparent rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-black dark:hover:bg-gray-100 transition-colors shadow-lg shadow-gray-200/50 dark:shadow-none cursor-pointer\"\r\n            >\r\n              <i className=\"ri-shield-user-line mr-2\"></i>\r\n              Add Admin\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Stats Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-8\">\r\n          {[\r\n            { label: 'Administrators', value: admins.length, icon: 'ri-shield-star-fill', color: 'bg-amber-500' },\r\n            { label: 'News Publishers', value: newsPublishers.length, icon: 'ri-newspaper-fill', color: 'bg-cyan-500' },\r\n            { label: 'Total Users', value: users.length, icon: 'ri-group-fill', color: 'bg-emerald-500' },\r\n          ].map((stat, i) => (\r\n            <div key={i} className=\"bg-white dark:bg-gray-900 p-6 rounded-3xl border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-md transition-all group relative overflow-hidden\">\r\n              <div className={`absolute top-0 right-0 w-24 h-24 ${stat.color} opacity-[0.03] rounded-bl-full group-hover:scale-110 transition-transform`}></div>\r\n              <div className={`w-10 h-10 rounded-xl ${stat.color} bg-opacity-10 flex items-center justify-center mb-3 text-${stat.color.replace('bg-', '')} group-hover:scale-110 transition-transform`}>\r\n                <i className={`${stat.icon} text-lg ${stat.color.replace('bg-', 'text-')}`}></i>\r\n              </div>\r\n              <div className=\"text-2xl font-bold text-gray-900 dark:text-white mb-1 tracking-tight\">{stat.value}</div>\r\n              <div className=\"text-[10px] uppercase tracking-widest font-bold text-gray-400\">{stat.label}</div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Tab Navigation & Search */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6\">\r\n          <div className=\"bg-white dark:bg-gray-900 p-1.5 rounded-2xl border border-gray-100 dark:border-gray-800 inline-flex shadow-sm\">\r\n            <button\r\n              onClick={() => setActiveTab('admins')}\r\n              className={`px-6 py-2.5 text-xs font-bold uppercase tracking-widest rounded-xl transition-all ${activeTab === 'admins'\r\n                ? 'bg-amber-500 text-white shadow-md shadow-amber-500/20'\r\n                : 'text-gray-500 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800'\r\n                }`}\r\n            >\r\n              Admins\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('publishers')}\r\n              className={`px-6 py-2.5 text-xs font-bold uppercase tracking-widest rounded-xl transition-all ${activeTab === 'publishers'\r\n                ? 'bg-cyan-500 text-white shadow-md shadow-cyan-500/20'\r\n                : 'text-gray-500 hover:text-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800'\r\n                }`}\r\n            >\r\n              Publishers\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex-1 max-w-md relative\">\r\n            <i className=\"ri-search-line absolute left-4 top-1/2 -translate-y-1/2 text-gray-400\"></i>\r\n            <input\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              placeholder={`Search ${activeTab === 'admins' ? 'administrators' : 'news publishers'}...`}\r\n              className=\"w-full pl-11 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 rounded-2xl focus:ring-2 focus:ring-amber-500/20 font-medium text-sm text-gray-900 dark:text-white placeholder-gray-400 transition-all outline-none shadow-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Data Table */}\r\n        <div className=\"bg-white dark:bg-gray-900 rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-sm overflow-hidden min-h-[400px]\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-gray-50/50 dark:bg-gray-800/50 border-b border-gray-100 dark:border-gray-800\">\r\n                <tr>\r\n                  <th className=\"px-8 py-5 text-left text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest\">\r\n                    User Profile\r\n                  </th>\r\n                  <th className=\"px-8 py-5 text-left text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest\">\r\n                    Current Role\r\n                  </th>\r\n                  <th className=\"px-8 py-5 text-left text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest\">\r\n                    Assigned On\r\n                  </th>\r\n                  <th className=\"px-8 py-5 text-right text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-100 dark:divide-gray-800\">\r\n                {(activeTab === 'admins' ? filteredAdmins : filteredPublishers).map((user) => (\r\n                  <tr key={user.id} className=\"hover:bg-gray-50/50 dark:hover:bg-gray-800/30 transition-colors group\">\r\n                    <td className=\"px-8 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className={`w-10 h-10 rounded-xl flex items-center justify-center font-bold text-white shadow-sm transition-transform group-hover:scale-110 ${activeTab === 'admins' ? 'bg-amber-500' : 'bg-cyan-500'}`}>\r\n                          {user.full_name.charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <div className=\"text-sm font-bold text-gray-900 dark:text-white\">{user.full_name}</div>\r\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400\">{user.email}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-8 py-4 whitespace-nowrap\">\r\n                      {activeTab === 'admins' ? (\r\n                        <span className=\"px-3 py-1 inline-flex text-[10px] font-bold uppercase tracking-widest rounded-full bg-amber-50 text-amber-700 border border-amber-100 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-900/30\">\r\n                          Administrator\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"px-3 py-1 inline-flex text-[10px] font-bold uppercase tracking-widest rounded-full bg-cyan-50 text-cyan-700 border border-cyan-100 dark:bg-cyan-900/20 dark:text-cyan-300 dark:border-cyan-900/30\">\r\n                          News Publisher\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-8 py-4 whitespace-nowrap text-xs font-medium text-gray-500 dark:text-gray-400\">\r\n                      {new Date(user.created_at).toLocaleDateString()}\r\n                    </td>\r\n                    <td className=\"px-8 py-4 whitespace-nowrap text-right\">\r\n                      {user.id !== profile?.id ? (\r\n                        <button\r\n                          onClick={() => handleRemoveRole(user.id, user.full_name, user.role)}\r\n                          className=\"text-gray-400 hover:text-rose-600 dark:hover:text-rose-400 transition-colors cursor-pointer p-2 rounded-lg hover:bg-rose-50 dark:hover:bg-rose-900/20\"\r\n                          title=\"Remove Role\"\r\n                        >\r\n                          <i className=\"ri-delete-bin-line text-lg\"></i>\r\n                        </button>\r\n                      ) : (\r\n                        <span className=\"text-[10px] font-bold uppercase tracking-widest text-gray-300 dark:text-gray-600\">Current User</span>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n\r\n                {(activeTab === 'admins' ? filteredAdmins : filteredPublishers).length === 0 && (\r\n                  <tr>\r\n                    <td colSpan={4} className=\"py-24 text-center\">\r\n                      <div className=\"w-16 h-16 bg-gray-50 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 border border-gray-100 dark:border-gray-700\">\r\n                        <i className={`${activeTab === 'admins' ? 'ri-shield-user-line' : 'ri-newspaper-line'} text-3xl text-gray-300 dark:text-gray-600`}></i>\r\n                      </div>\r\n                      <h3 className=\"text-lg font-bold text-gray-900 dark:text-white mb-1\">No users found</h3>\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-widest\">\r\n                        {activeTab === 'admins' ? 'No administrators active' : 'No news publishers active'}\r\n                      </p>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add News Publisher Modal */}\r\n      {showAddPublisherModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200\">\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-[2rem] shadow-2xl max-w-md w-full p-8 border border-gray-100 dark:border-gray-800 flex flex-col max-h-[90vh]\">\r\n            <div className=\"flex items-center justify-between mb-6 flex-shrink-0\">\r\n              <h3 className=\"text-xl font-bold text-gray-900 dark:text-white tracking-tight\">Add Publisher</h3>\r\n              <button\r\n                onClick={resetModals}\r\n                className=\"w-8 h-8 rounded-full bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors cursor-pointer\"\r\n              >\r\n                <i className=\"ri-close-line text-xl\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-hidden flex flex-col\">\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-6 leading-relaxed flex-shrink-0\">\r\n                Select a user to grant Campus News publishing privileges.\r\n              </p>\r\n\r\n              <div className=\"relative mb-4 flex-shrink-0\">\r\n                <i className=\"ri-search-line absolute left-4 top-1/2 -translate-y-1/2 text-gray-400\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchCandidateTerm}\r\n                  onChange={(e) => setSearchCandidateTerm(e.target.value)}\r\n                  placeholder=\"Search users by name or email...\"\r\n                  className=\"w-full pl-11 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-cyan-500/20 font-medium text-sm text-gray-900 dark:text-white placeholder-gray-400 outline-none transition-all\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex-1 overflow-y-auto min-h-[200px] bg-gray-50/50 dark:bg-gray-800/50 rounded-xl p-2 mb-6\">\r\n                {eligibleCandidates.map(user => (\r\n                  <div\r\n                    key={user.id}\r\n                    onClick={() => setSelectedCandidate(user)}\r\n                    className={`p-3 rounded-lg flex items-center gap-3 cursor-pointer transition-all ${selectedCandidate?.id === user.id\r\n                      ? 'bg-cyan-50 dark:bg-cyan-900/30 border border-cyan-200 dark:border-cyan-800'\r\n                      : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\r\n                      }`}\r\n                  >\r\n                    <div className=\"w-8 h-8 rounded-full bg-white dark:bg-gray-800 flex items-center justify-center shadow-sm text-gray-600 dark:text-gray-300 font-bold text-xs\">\r\n                      {user.full_name.charAt(0).toUpperCase()}\r\n                    </div>\r\n                    <div className=\"overflow-hidden\">\r\n                      <p className=\"text-sm font-bold text-gray-900 dark:text-white truncate\">{user.full_name}</p>\r\n                      <p className=\"text-[10px] text-gray-500 dark:text-gray-400 truncate\">{user.email}</p>\r\n                    </div>\r\n                    {selectedCandidate?.id === user.id && (\r\n                      <i className=\"ri-check-line text-cyan-600 ml-auto\"></i>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                {eligibleCandidates.length === 0 && (\r\n                  <p className=\"text-center text-xs text-gray-400 py-8\">No matching users found.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-4 flex-shrink-0\">\r\n              <button\r\n                onClick={resetModals}\r\n                className=\"flex-1 px-6 py-4 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors whitespace-nowrap cursor-pointer\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAddNewsPublisher}\r\n                disabled={!selectedCandidate}\r\n                className=\"flex-1 px-6 py-4 bg-cyan-600 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-cyan-700 transition-colors whitespace-nowrap cursor-pointer shadow-lg shadow-cyan-200 dark:shadow-none disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Add Publisher\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Admin Modal */}\r\n      {showAddAdminModal && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-200\">\r\n          <div className=\"bg-white dark:bg-gray-900 rounded-[2rem] shadow-2xl max-w-md w-full p-8 border border-gray-100 dark:border-gray-800 flex flex-col max-h-[90vh]\">\r\n            <div className=\"flex items-center justify-between mb-6 flex-shrink-0\">\r\n              <h3 className=\"text-xl font-bold text-gray-900 dark:text-white tracking-tight\">Add Administrator</h3>\r\n              <button\r\n                onClick={resetModals}\r\n                className=\"w-8 h-8 rounded-full bg-gray-50 dark:bg-gray-800 flex items-center justify-center text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors cursor-pointer\"\r\n              >\r\n                <i className=\"ri-close-line text-xl\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-hidden flex flex-col\">\r\n              <div className=\"bg-amber-50 dark:bg-amber-900/10 border border-amber-100 dark:border-amber-900/20 rounded-2xl p-4 mb-6 flex-shrink-0\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <i className=\"ri-shield-alert-line text-amber-600 text-xl flex-shrink-0 mt-0.5\"></i>\r\n                  <div>\r\n                    <p className=\"text-xs font-bold uppercase tracking-widest text-amber-800 dark:text-amber-400 mb-1\">High Privilege Role</p>\r\n                    <p className=\"text-xs text-amber-700 dark:text-amber-500/80 leading-relaxed\">\r\n                      This user will have full administrative access (system management, user control).\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"relative mb-4 flex-shrink-0\">\r\n                <i className=\"ri-search-line absolute left-4 top-1/2 -translate-y-1/2 text-gray-400\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  value={searchCandidateTerm}\r\n                  onChange={(e) => setSearchCandidateTerm(e.target.value)}\r\n                  placeholder=\"Search users by name or email...\"\r\n                  className=\"w-full pl-11 pr-4 py-3 bg-gray-50 dark:bg-gray-800 border-none rounded-xl focus:ring-2 focus:ring-amber-500/20 font-medium text-sm text-gray-900 dark:text-white placeholder-gray-400 outline-none transition-all\"\r\n                  autoFocus\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex-1 overflow-y-auto min-h-[200px] bg-gray-50/50 dark:bg-gray-800/50 rounded-xl p-2 mb-6\">\r\n                {eligibleCandidates.map(user => (\r\n                  <div\r\n                    key={user.id}\r\n                    onClick={() => setSelectedCandidate(user)}\r\n                    className={`p-3 rounded-lg flex items-center gap-3 cursor-pointer transition-all ${selectedCandidate?.id === user.id\r\n                      ? 'bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800'\r\n                      : 'hover:bg-gray-100 dark:hover:bg-gray-700 border border-transparent'\r\n                      }`}\r\n                  >\r\n                    <div className=\"w-8 h-8 rounded-full bg-white dark:bg-gray-800 flex items-center justify-center shadow-sm text-gray-600 dark:text-gray-300 font-bold text-xs\">\r\n                      {user.full_name.charAt(0).toUpperCase()}\r\n                    </div>\r\n                    <div className=\"overflow-hidden\">\r\n                      <p className=\"text-sm font-bold text-gray-900 dark:text-white truncate\">{user.full_name}</p>\r\n                      <p className=\"text-[10px] text-gray-500 dark:text-gray-400 truncate\">{user.email}</p>\r\n                    </div>\r\n                    {selectedCandidate?.id === user.id && (\r\n                      <i className=\"ri-check-line text-amber-600 ml-auto\"></i>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n                {eligibleCandidates.length === 0 && (\r\n                  <p className=\"text-center text-xs text-gray-400 py-8\">No eligible users found.</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-4 flex-shrink-0\">\r\n              <button\r\n                onClick={resetModals}\r\n                className=\"flex-1 px-6 py-4 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors whitespace-nowrap cursor-pointer\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAddAdmin}\r\n                disabled={!selectedCandidate}\r\n                className=\"flex-1 px-6 py-4 bg-amber-500 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-amber-600 transition-colors whitespace-nowrap cursor-pointer shadow-lg shadow-amber-200 dark:shadow-none disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                Add Admin\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["RoleManagement","navigate","useNavigate","profile","authLoading","useAuth","users","setUsers","useState","loading","setLoading","searchTerm","setSearchTerm","activeTab","setActiveTab","showAddPublisherModal","setShowAddPublisherModal","showAddAdminModal","setShowAddAdminModal","notification","setNotification","searchCandidateTerm","setSearchCandidateTerm","selectedCandidate","setSelectedCandidate","useEffect","fetchUsers","timer","data","error","supabase","resetModals","handleAddNewsPublisher","updateError","handleAddAdmin","handleRemoveRole","userId","userName","currentRole","newsPublishers","u","admins","filteredPublishers","user","filteredAdmins","getEligibleCandidates","targetRole","eligibleCandidates","jsxs","jsx","Navbar","stat","i","e"],"mappings":"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"}