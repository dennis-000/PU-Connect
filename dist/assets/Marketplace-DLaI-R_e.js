import{j as e}from"./query-vendor-Cpskl8RO.js";import{u as C,f as P,r as t}from"./react-vendor-Bsfkyusf.js";import{u as _,N as A,g as f}from"./index-4BAF1yr7.js";import{u as E,a as M,b as T}from"./useProducts-6jgPtXoo.js";import{u as z,C as L}from"./useSiteContent-N6wPe4zR.js";import{A as $}from"./AdSenseBanner-Clw7kBGS.js";import"./i18n-vendor-CQdsz7qV.js";import"./supabase-vendor-C3liu3n-.js";function G(){const y=C(),[i,m]=P(),{user:D}=_();z(L.MARKETPLACE_BANNER);const[s,d]=t.useState(i.get("category")||"all"),[o,x]=t.useState(""),[w,g]=t.useState(""),[n,F]=t.useState("all"),[l,v]=t.useState("newest");t.useEffect(()=>{const a=setTimeout(()=>{g(o)},500);return()=>clearTimeout(a)},[o]),t.useEffect(()=>{const a=i.get("category")||"all";d(a)},[i]);const{data:u=[],isLoading:j}=E({category:s,search:w}),{data:b=[]}=M(),N=T(),p=t.useMemo(()=>b.map(a=>a.product_id),[b]),h=[{id:"all",name:"Discover All",icon:"ri-command-fill",color:"bg-blue-600"},{id:"electronics",name:"Electronics",icon:"ri-macbook-line",color:"bg-indigo-600"},{id:"books",name:"Textbooks",icon:"ri-book-read-line",color:"bg-emerald-600"},{id:"fashion",name:"Fashion",icon:"ri-t-shirt-line",color:"bg-rose-600"},{id:"food",name:"Nutrition",icon:"ri-restaurant-2-line",color:"bg-amber-600"},{id:"health",name:"Essentials",icon:"ri-capsule-line",color:"bg-teal-600"},{id:"academics",name:"Academic Gear",icon:"ri-pencil-ruler-2-line",color:"bg-sky-600"},{id:"other",name:"Miscellaneous",icon:"ri-grid-line",color:"bg-slate-600"}],c=t.useMemo(()=>[...u].filter(a=>{let r=!0;return a.price_type==="fixed"&&a.price&&(n==="under50"?r=a.price<50:n==="50-200"?r=a.price>=50&&a.price<=200:n==="over200"&&(r=a.price>200)),r}).sort((a,r)=>l==="price-low"?(a.price||0)-(r.price||0):l==="price-high"?(r.price||0)-(a.price||0):l==="popular"?(r.views_count||0)-(a.views_count||0):l==="newest"?new Date(r.created_at).getTime()-new Date(a.created_at).getTime():0),[u,n,l]),k=t.useCallback(a=>{d(a);const r=new URLSearchParams(i);a==="all"?r.delete("category"):r.set("category",a),m(r)},[i,m]);return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors duration-300",children:[e.jsx(A,{}),e.jsxs("section",{className:"relative pt-32 pb-6 md:pt-48 md:pb-32 overflow-hidden bg-gray-900 border-b border-white/5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-gray-900 to-gray-900 z-0"}),e.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[100px] opacity-40 animate-blob mix-blend-screen"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-[600px] h-[600px] bg-indigo-600/10 rounded-full blur-[120px] opacity-40 animate-blob animation-delay-2000 mix-blend-screen"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-white/5 border border-white/10 backdrop-blur-md rounded-full mb-6 md:mb-8 shadow-lg animate-fade-in-up",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-white",children:"Live Market"})]}),e.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-black text-white mb-6 md:mb-12 tracking-tighter leading-none md:leading-[0.85] animate-fade-in-up delay-100 drop-shadow-2xl",children:["Campus ",e.jsx("br",{className:"hidden sm:block"}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400",children:"Market."})]}),e.jsxs("div",{className:"max-w-2xl mx-auto relative group animate-fade-in-up delay-200 z-20",children:[e.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl blur opacity-25 group-focus-within:opacity-75 transition duration-1000 group-hover:duration-200"}),e.jsxs("form",{onSubmit:a=>{a.preventDefault(),g(o)},className:"relative flex items-center bg-gray-900/80 backdrop-blur-xl border border-white/10 rounded-2xl p-1.5 md:p-2 shadow-2xl",children:[e.jsx("i",{className:"ri-search-2-line text-xl md:text-2xl text-gray-400 ml-3 md:ml-4 pointer-events-none"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:a=>x(a.target.value),className:"w-full bg-transparent border-none text-white placeholder-gray-500 focus:ring-0 text-base md:text-lg font-medium px-3 md:px-4 h-10 md:h-12"}),e.jsx("button",{type:"submit",className:"px-4 md:px-8 h-10 md:h-12 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-blue-900/20 active:scale-95 text-[10px] md:text-xs uppercase tracking-widest",children:"Search"})]})]})]})]}),e.jsx("div",{className:"sticky top-20 z-40 bg-gray-50/95 dark:bg-gray-950/95 backdrop-blur-2xl border-b border-gray-100 dark:border-gray-800/60 shadow-sm overflow-hidden",children:e.jsx("div",{className:"max-w-[1600px] mx-auto",children:e.jsx("div",{className:"flex items-center gap-4 overflow-x-auto py-5 px-4 md:px-8 no-scrollbar snap-x scroll-smooth",children:h.map(a=>e.jsxs("button",{onClick:()=>k(a.id),className:"flex flex-col items-center gap-3 group min-w-[85px] md:min-w-0 md:flex-row md:gap-4 md:px-8 md:py-3.5 md:rounded-2xl transition-all duration-500 snap-center",children:[e.jsx("div",{className:`w-14 h-14 md:w-11 md:h-11 rounded-[1.25rem] flex items-center justify-center transition-all duration-500 shadow-lg ${s===a.id?"bg-blue-600 text-white shadow-blue-600/30 scale-110 ring-4 ring-blue-600/10":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 group-hover:text-blue-600"}`,children:e.jsx("i",{className:`${a.icon} text-2xl md:text-xl`})}),e.jsx("span",{className:`text-[9px] md:text-[11px] font-bold uppercase tracking-wide text-center leading-tight transition-colors duration-300 max-w-[80px] md:max-w-none ${s===a.id?"text-blue-600 dark:text-blue-400":"text-gray-400 dark:text-gray-500 group-hover:text-gray-900 dark:group-hover:text-white"}`,children:a.name}),s===a.id&&e.jsx("div",{className:"hidden md:block w-1.5 h-1.5 bg-blue-600 rounded-full shadow-sm shadow-blue-600/50"})]},a.id))})})}),e.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 relative z-20",children:e.jsxs("div",{className:"py-8 md:py-12",children:[e.jsx($,{className:"mb-10"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-10 gap-6",children:[e.jsx("div",{children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[s==="all"?"All Collections":h.find(a=>a.id===s)?.name,e.jsx("span",{className:"text-sm font-bold text-gray-400 bg-gray-100 dark:bg-white/5 px-2 py-1 rounded-md border border-gray-200 dark:border-white/5",children:c.length})]})}),e.jsx("div",{className:"flex items-center gap-4 w-full md:w-auto",children:e.jsxs("div",{className:"relative group z-30 w-full md:w-auto",children:[e.jsxs("select",{value:l,onChange:a=>v(a.target.value),className:"appearance-none bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200 py-3 pl-4 pr-10 rounded-xl font-bold text-xs uppercase tracking-wide focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer shadow-sm hover:shadow-md transition-all w-full md:w-auto",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),e.jsx("i",{className:"ri-arrow-down-s-line absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})})]}),j?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:[1,2,3,4,5,6,7,8].map(a=>e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2rem] p-4 h-[450px] animate-pulse border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 h-64 rounded-[1.5rem] mb-4"}),e.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-800 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-800 rounded w-1/2"})]},a))}):c?.length?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:c.map(a=>{const r=a.seller;return e.jsxs("div",{onClick:()=>y(`/product/${a.id}`),className:"group relative bg-white dark:bg-gray-900 rounded-[1.25rem] sm:rounded-[2rem] p-1.5 sm:p-3 border border-gray-100 dark:border-gray-800 hover:border-blue-500/30 hover:shadow-2xl hover:shadow-blue-900/10 transition-all duration-500 cursor-pointer hover:-translate-y-2 dark:hover:bg-gray-800/50",children:[e.jsxs("div",{className:"relative aspect-[4/5] rounded-[1rem] sm:rounded-[1.5rem] overflow-hidden bg-gray-100 dark:bg-gray-800 mb-2 sm:mb-4",children:[a.images?.[0]?e.jsx("img",{src:f(a.images[0],600,85),alt:a.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300 dark:text-gray-600",children:e.jsx("i",{className:"ri-image-2-line text-4xl sm:text-6xl"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsx("div",{className:"absolute top-1.5 right-1.5 sm:top-4 sm:right-4 z-10",children:e.jsx("button",{onClick:S=>{S.stopPropagation(),N.mutate(a.id)},className:`w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all shadow-lg active:scale-90 backdrop-blur-md ${p.includes(a.id)?"bg-rose-500 text-white":"bg-white/80 dark:bg-black/50 text-gray-600 dark:text-white hover:bg-rose-500 hover:text-white"}`,children:e.jsx("i",{className:`${p.includes(a.id)?"ri-heart-fill":"ri-heart-line"} text-sm sm:text-xl`})})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 translate-y-4 opacity-0 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 hidden sm:block",children:e.jsx("button",{className:"w-full py-3 bg-white text-gray-900 font-bold rounded-xl text-xs uppercase tracking-widest shadow-lg hover:bg-blue-50 transition-colors",children:"View Details"})})]}),e.jsxs("div",{className:"px-1.5 sm:px-3 pb-2 sm:pb-3",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1 sm:mb-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-[8px] sm:text-[10px] font-bold uppercase tracking-widest rounded-md sm:rounded-lg",children:a.category}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gray-500 dark:text-gray-400 text-[8px] sm:text-[10px] font-bold uppercase tracking-wide",children:[e.jsx("i",{className:"ri-time-line"}),e.jsx("span",{children:"New"})]})]}),e.jsx("h3",{className:"text-xs sm:text-lg font-bold text-gray-900 dark:text-white mb-1.5 sm:mb-3 line-clamp-1 group-hover:text-blue-600 transition-colors",children:a.name}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-gray-800 pt-2 sm:pt-3",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[7px] sm:text-[10px] font-bold text-gray-400 uppercase tracking-widest leading-none mb-1",children:"Price"}),e.jsx("span",{className:"text-xs sm:text-xl font-black text-gray-900 dark:text-white leading-none",children:a.price_type==="fixed"?`â‚µ${a.price?.toLocaleString()}`:"Contact"})]}),e.jsx("div",{className:"flex items-center gap-2 pl-2 sm:pl-3 border-l border-gray-100 dark:border-gray-800",children:e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gray-100 dark:bg-gray-800 overflow-hidden ring-1 ring-gray-200 dark:ring-gray-700 flex items-center justify-center",children:r?.avatar_url?e.jsx("img",{src:f(r.avatar_url,50,50),alt:"",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-[10px] font-bold text-gray-400",children:r?.full_name?.charAt(0)||"U"})})})]})]})]},a.id)})}):e.jsxs("div",{className:"py-32 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full mb-8",children:e.jsx("i",{className:"ri-search-line text-4xl text-gray-400"})}),e.jsx("h3",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"No results found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 font-medium",children:"We couldn't find any products matching your search."}),e.jsx("button",{onClick:()=>{d("all"),x("")},className:"px-8 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all uppercase tracking-widest text-xs",children:"Clear Filters"})]})]})})]})}export{G as default};
//# sourceMappingURL=Marketplace-DLaI-R_e.js.map
