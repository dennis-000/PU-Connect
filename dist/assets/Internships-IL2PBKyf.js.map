{"version":3,"file":"Internships-IL2PBKyf.js","sources":["../../src/pages/internships/Internships.tsx"],"sourcesContent":["import { useState, useMemo, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Navbar from '../../components/feature/Navbar';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nimport { useInternships } from '../../hooks/useInternships';\r\n\r\nexport default function Internships() {\r\n    const { user } = useAuth();\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [debouncedSearch, setDebouncedSearch] = useState('');\r\n    const [filterType, setFilterType] = useState('All');\r\n\r\n    // Debounce search query to prevent excessive API calls\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            setDebouncedSearch(searchQuery);\r\n        }, 800);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [searchQuery]);\r\n\r\n    // Fetch data using the hook (depends on debounced search)\r\n    const { data: internships = [], isLoading: isFetching } = useInternships({ search: debouncedSearch });\r\n\r\n    // Show loading state if raw search differs from debounced (user is typing) or if fetching\r\n    const isLoading = isFetching || searchQuery !== debouncedSearch;\r\n\r\n    const filteredInternships = useMemo(() => {\r\n        return internships.filter(internship => {\r\n            const isLocal = internship.location.includes('Ghana') ||\r\n                internship.location.includes('Accra') ||\r\n                internship.location.includes('Kumasi');\r\n\r\n            const matchesFilter = filterType === 'All' ||\r\n                (filterType === 'Abroad' && !isLocal) ||\r\n                (filterType === 'Local' && isLocal) ||\r\n                (filterType === internship.type);\r\n\r\n            return matchesFilter;\r\n        });\r\n    }, [internships, filterType]);\r\n\r\n    const filters = [\r\n        { id: 'All', label: 'All Jobs', icon: 'ri-briefcase-4-line' },\r\n        { id: 'Local', label: 'Local', icon: 'ri-map-pin-user-line' },\r\n        { id: 'Abroad', label: 'Remote / Abroad', icon: 'ri-earth-line' }\r\n    ];\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors duration-300\">\r\n            <Navbar />\r\n\r\n            {/* Mobile-First Header & Search */}\r\n            <div className=\"pt-24 pb-4 bg-white dark:bg-gray-900 shadow-sm border-b border-gray-100 dark:border-gray-800 sticky top-0 z-30\">\r\n                <div className=\"max-w-7xl mx-auto px-4 md:px-6\">\r\n                    <div className=\"flex justify-between items-center mb-4\">\r\n                        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\r\n                            <i className=\"ri-briefcase-line text-blue-600\"></i>\r\n                            Career Market\r\n                        </h1>\r\n                        {/* Admin Action Button */}\r\n                        {(user?.role === 'admin' || user?.role === 'super_admin' || localStorage.getItem('sys_admin_bypass') === 'true') && (\r\n                            <Link\r\n                                to=\"/admin/internships\"\r\n                                className=\"px-4 py-2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-bold text-xs uppercase tracking-wide flex items-center gap-2 hover:opacity-90 transition-opacity\"\r\n                            >\r\n                                <i className=\"ri-settings-4-line\"></i>\r\n                                Manage Jobs\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"relative\">\r\n                        <i className=\"ri-search-2-line absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg\"></i>\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search internships, companies...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                            className=\"w-full bg-gray-100 dark:bg-gray-800 border-none text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 rounded-xl px-12 py-3.5 font-medium transition-all\"\r\n                        />\r\n                        {searchQuery && (\r\n                            <button\r\n                                onClick={() => setSearchQuery('')}\r\n                                className=\"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600\"\r\n                            >\r\n                                <i className=\"ri-close-circle-fill\"></i>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Horizontal Scrollable Filters */}\r\n                    <div className=\"flex items-center gap-3 mt-4 overflow-x-auto pb-2 no-scrollbar -mx-4 px-4 md:mx-0 md:px-0\">\r\n                        {filters.map((filter) => (\r\n                            <button\r\n                                key={filter.id}\r\n                                onClick={() => setFilterType(filter.id)}\r\n                                className={`flex items-center gap-2 px-4 py-2.5 rounded-lg font-bold text-xs uppercase tracking-wide whitespace-nowrap transition-all border ${filterType === filter.id\r\n                                    ? 'bg-gray-900 dark:bg-white text-white dark:text-gray-900 border-gray-900 dark:border-white shadow-lg transform scale-105'\r\n                                    : 'bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400 border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\r\n                                    }`}\r\n                            >\r\n                                <i className={`${filter.icon} text-sm`}></i>\r\n                                {filter.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Content List */}\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 py-6 min-h-[60vh]\">\r\n\r\n                <div className=\"flex items-center justify-between mb-8\">\r\n                    <div>\r\n                        <h2 className=\"text-2xl font-black text-slate-900 dark:text-white tracking-tight\">\r\n                            Latest Opportunities\r\n                        </h2>\r\n                        <p className=\"text-slate-500 text-sm mt-1\">Found <span className=\"font-bold text-slate-900 dark:text-white\">{filteredInternships.length}</span> positions for you</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {isLoading ? (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\r\n                        {[1, 2, 3, 4, 5, 6].map((i) => (\r\n                            <div key={i} className=\"bg-white dark:bg-gray-900 rounded-[2rem] p-6 border border-gray-100 dark:border-gray-800 shadow-sm animate-pulse h-64\"></div>\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\r\n                        {filteredInternships.map((job) => (\r\n                            <div key={job.id} className=\"group bg-white dark:bg-gray-900 rounded-[2rem] p-6 border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-2xl hover:border-blue-500/30 transition-all duration-500 hover:-translate-y-1 relative overflow-hidden\">\r\n\r\n                                {/* Hover Gradient */}\r\n                                <div className=\"absolute inset-0 bg-gradient-to-br from-blue-50/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none\"></div>\r\n\r\n                                <div className=\"relative z-10\">\r\n                                    <div className=\"flex justify-between items-start mb-6\">\r\n                                        <div className=\"w-16 h-16 rounded-2xl bg-white dark:bg-gray-800 p-3 shadow-sm border border-gray-50 dark:border-gray-700 group-hover:scale-110 transition-transform duration-500 flex items-center justify-center\">\r\n                                            <img src={job.logo_url} alt={job.company} className=\"w-full h-full object-contain rounded-lg\" />\r\n                                        </div>\r\n                                        <span className=\"px-3 py-1 bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-[10px] font-bold uppercase tracking-widest rounded-full border border-slate-100 dark:border-slate-700\">\r\n                                            {job.type}\r\n                                        </span>\r\n                                    </div>\r\n\r\n                                    <h3 className=\"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-1 group-hover:text-blue-600 transition-colors\">\r\n                                        {job.title}\r\n                                    </h3>\r\n\r\n                                    <div className=\"flex items-center gap-2 text-sm font-medium text-slate-500 dark:text-slate-400 mb-6\">\r\n                                        <i className=\"ri-building-line\"></i>\r\n                                        {job.company}\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-2 gap-3 mb-6\">\r\n                                        <div className=\"bg-slate-50 dark:bg-slate-800/50 p-3 rounded-2xl\">\r\n                                            <p className=\"text-[10px] uppercase tracking-widest text-slate-400 font-bold mb-1\">Location</p>\r\n                                            <p className=\"text-xs font-bold text-slate-700 dark:text-slate-200 truncate\">{job.location}</p>\r\n                                        </div>\r\n                                        <div className=\"bg-slate-50 dark:bg-slate-800/50 p-3 rounded-2xl\">\r\n                                            <p className=\"text-[10px] uppercase tracking-widest text-slate-400 font-bold mb-1\">Posted</p>\r\n                                            <p className=\"text-xs font-bold text-slate-700 dark:text-slate-200\">{new Date(job.posted_at).toLocaleDateString()}</p>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-800\">\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            {job.source === 'LinkedIn' ? (\r\n                                                <i className=\"ri-linkedin-fill text-blue-600 text-xl\"></i>\r\n                                            ) : (\r\n                                                <div className=\"w-6 h-6 rounded-full bg-slate-900 flex items-center justify-center text-white text-[10px] font-bold\">PU</div>\r\n                                            )}\r\n                                            <span className=\"text-[10px] font-bold uppercase tracking-widest text-slate-400\">\r\n                                                {job.source}\r\n                                            </span>\r\n                                        </div>\r\n\r\n                                        <a\r\n                                            href={job.url}\r\n                                            target=\"_blank\"\r\n                                            rel=\"noopener noreferrer\"\r\n                                            className=\"pl-6 pr-4 py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl text-xs font-bold flex items-center gap-2 group-hover:bg-blue-600 dark:group-hover:bg-blue-500 dark:group-hover:text-white transition-all shadow-lg active:scale-95\"\r\n                                        >\r\n                                            Apply Now\r\n                                            <i className=\"ri-arrow-right-line group-hover:translate-x-1 transition-transform\"></i>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {!isLoading && filteredInternships.length === 0 && (\r\n                    <div className=\"flex flex-col items-center justify-center py-32 text-center\">\r\n                        <div className=\"w-24 h-24 bg-slate-50 dark:bg-gray-800 rounded-full flex items-center justify-center mb-6 animate-bounce\">\r\n                            <i className=\"ri-search-eye-line text-4xl text-slate-300\"></i>\r\n                        </div>\r\n                        <h3 className=\"text-2xl font-black text-slate-900 dark:text-white mb-2 tracking-tight\">No opportunities found</h3>\r\n                        <p className=\"text-slate-500 max-w-xs mx-auto mb-8 font-medium\">\r\n                            We couldn't find any internships matching your criteria. Try adjusting your filters.\r\n                        </p>\r\n                        <button\r\n                            onClick={() => { setFilterType('All'); setSearchQuery('') }}\r\n                            className=\"px-8 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-colors uppercase tracking-widest text-xs\"\r\n                        >\r\n                            Clear All Filters\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["Internships","user","useAuth","searchQuery","setSearchQuery","useState","debouncedSearch","setDebouncedSearch","filterType","setFilterType","useEffect","timer","internships","isFetching","useInternships","isLoading","filteredInternships","useMemo","internship","isLocal","filters","jsxs","jsx","Navbar","Link","e","filter","i","job"],"mappings":"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"}