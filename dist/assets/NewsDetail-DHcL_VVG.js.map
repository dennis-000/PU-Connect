{"version":3,"file":"NewsDetail-DHcL_VVG.js","sources":["../../src/pages/news/NewsDetail.tsx"],"sourcesContent":["import { useParams, Link } from 'react-router-dom';\r\nimport Navbar from '../../components/feature/Navbar';\r\nimport { getOptimizedImageUrl } from '../../lib/imageOptimization';\r\nimport { useNewsArticle, useNews } from '../../hooks/useNews';\r\n\r\nexport default function NewsDetail() {\r\n  const { id } = useParams();\r\n\r\n  const { data: article, isLoading: loadingDocs } = useNewsArticle(id);\r\n\r\n  const { data: relatedNews = [] } = useNews({\r\n    category: article?.category,\r\n    isPublished: true\r\n  });\r\n\r\n  const filteredRelatedNews = relatedNews\r\n    .filter(n => n.id !== id)\r\n    .slice(0, 3);\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const handleShare = () => {\r\n    if (navigator.share) {\r\n      navigator.share({\r\n        title: article?.title,\r\n        text: article?.excerpt || article?.content?.substring(0, 100),\r\n        url: window.location.href,\r\n      }).catch(err => console.error('Share failed:', err));\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n      alert('Link copied to clipboard!');\r\n    }\r\n  };\r\n\r\n  if (loadingDocs) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950 pt-20 transition-colors duration-300\">\r\n        <Navbar />\r\n        <div className=\"text-center py-24\">\r\n          <div className=\"inline-block w-12 h-12 border-4 border-gray-200 border-t-emerald-600 rounded-full animate-spin\"></div>\r\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400 font-medium\">Loading article...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!article) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950 pt-20 transition-colors duration-300\">\r\n        <Navbar />\r\n        <div className=\"text-center py-20 max-w-md mx-auto\">\r\n          <div className=\"w-24 h-24 bg-red-50 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n            <i className=\"ri-file-damage-line text-5xl text-red-300 dark:text-red-500\"></i>\r\n          </div>\r\n          <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">Article not found</h3>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mb-8\">The news article you are looking for might have been removed or is temporarily unavailable.</p>\r\n          <Link to=\"/news\" className=\"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors\">\r\n            <i className=\"ri-arrow-left-line mr-2\"></i>\r\n            Back to news\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-950 pt-20 transition-colors duration-300\">\r\n      <Navbar />\r\n\r\n      <div className=\"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-16\">\r\n        <div className=\"mb-10 flex items-center justify-between\">\r\n          <Link\r\n            to=\"/news\"\r\n            className=\"inline-flex items-center text-blue-600 hover:text-blue-700 font-bold text-[10px] md:text-sm uppercase tracking-widest transition-all cursor-pointer group\"\r\n          >\r\n            <i className=\"ri-arrow-left-s-line text-lg md:text-xl group-hover:-translate-x-1 transition-transform\"></i>\r\n            Back to News\r\n          </Link>\r\n          <div className=\"flex gap-3\">\r\n            <button\r\n              onClick={handleShare}\r\n              className=\"w-10 h-10 bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all text-gray-500 dark:text-gray-400 cursor-pointer flex items-center justify-center\"\r\n              title=\"Share Article\"\r\n            >\r\n              <i className=\"ri-share-forward-line text-lg\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <article className=\"bg-white dark:bg-gray-900 rounded-[2rem] md:rounded-[3rem] shadow-xl shadow-gray-200/40 dark:shadow-none border border-gray-100 dark:border-gray-800 overflow-hidden mb-20 animate-in fade-in slide-in-from-bottom-8 duration-700\">\r\n          {article.image_url && (\r\n            <div className=\"relative h-[24rem] md:h-[40rem] w-full overflow-hidden bg-gray-50 dark:bg-gray-800\">\r\n              <img\r\n                src={getOptimizedImageUrl(article.image_url, 1500, 85)}\r\n                alt={article.title}\r\n                className=\"w-full h-full object-cover object-center\"\r\n                loading=\"eager\"\r\n                decoding=\"async\"\r\n              />\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-white via-transparent to-transparent opacity-40 dark:opacity-10 dark:from-gray-900\"></div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"p-8 md:p-20\">\r\n            <div className=\"flex flex-wrap items-center gap-6 mb-12\">\r\n              <span className=\"px-5 py-2 bg-blue-600 text-white text-[10px] md:text-xs font-bold rounded-full uppercase tracking-widest\">\r\n                {article.category}\r\n              </span>\r\n              <div className=\"flex items-center text-gray-500 dark:text-gray-400 text-[10px] md:text-xs font-bold uppercase tracking-widest border-l border-gray-200 dark:border-gray-700 pl-6\">\r\n                <i className=\"ri-calendar-event-line mr-2 text-blue-600\"></i>\r\n                {formatDate(article.created_at)}\r\n              </div>\r\n              {article.views_count > 0 && (\r\n                <div className=\"flex items-center text-gray-500 dark:text-gray-400 text-[10px] md:text-xs font-bold uppercase tracking-widest border-l border-gray-200 dark:border-gray-700 pl-6\">\r\n                  <i className=\"ri-eye-line mr-2 text-blue-600\"></i>\r\n                  {article.views_count} Views\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <h1 className=\"text-3xl md:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white mb-12 leading-tight tracking-tight\">\r\n              {article.title}\r\n            </h1>\r\n\r\n            <div className=\"max-w-3xl mx-auto\">\r\n              <div className=\"prose prose-blue prose-lg md:prose-xl max-w-none dark:prose-invert\">\r\n                <p className=\"text-gray-600 dark:text-gray-300 leading-relaxed text-lg md:text-xl font-medium whitespace-pre-line first-letter:text-5xl first-letter:font-bold first-letter:text-blue-600 first-letter:mr-3 first-letter:float-left\">\r\n                  {article.content}\r\n                </p>\r\n              </div>\r\n\r\n              {article.author && (\r\n                <div className=\"mt-20 p-8 md:p-10 bg-gray-50 dark:bg-gray-800/50 rounded-[2rem] border border-gray-100 dark:border-gray-800 flex flex-col sm:flex-row items-center gap-6 text-center sm:text-left\">\r\n                  <div className=\"w-16 h-16 bg-gray-900 dark:bg-white rounded-2xl flex items-center justify-center text-white dark:text-gray-900 font-bold text-xl\">\r\n                    {article.author.full_name?.charAt(0)}\r\n                  </div>\r\n                  <div>\r\n                    <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1\">Article Author</p>\r\n                    <p className=\"text-lg font-bold text-gray-900 dark:text-white tracking-tight\">{article.author.full_name}</p>\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 font-semibold mt-1\">Official University Communications</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </article>\r\n\r\n        {filteredRelatedNews.length > 0 && (\r\n          <div className=\"mb-20\">\r\n            <div className=\"flex items-center justify-between mb-12\">\r\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white tracking-tight\">Related Articles</h2>\r\n              <Link to=\"/news\" className=\"text-[10px] font-bold text-blue-600 uppercase tracking-widest hover:text-blue-700 transition-colors\">\r\n                View All News <i className=\"ri-arrow-right-line ml-1\"></i>\r\n              </Link>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\">\r\n              {filteredRelatedNews.map((news) => (\r\n                <Link\r\n                  key={news.id}\r\n                  to={`/news/${news.id}`}\r\n                  className=\"bg-white dark:bg-gray-900 rounded-[1.5rem] border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 overflow-hidden flex flex-col p-3\"\r\n                >\r\n                  <div className=\"h-48 bg-gray-50 dark:bg-gray-800 relative overflow-hidden rounded-xl\">\r\n                    {news.image_url ? (\r\n                      <img\r\n                        src={getOptimizedImageUrl(news.image_url, 600, 80)}\r\n                        alt={news.title}\r\n                        className=\"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-500\"\r\n                        loading=\"lazy\"\r\n                        decoding=\"async\"\r\n                      />\r\n                    ) : (\r\n                      <div className=\"w-full h-full flex items-center justify-center\">\r\n                        <i className=\"ri-newspaper-line text-4xl text-gray-100 dark:text-gray-700\"></i>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"p-5 flex-1 flex flex-col\">\r\n                    <span className=\"text-[10px] font-bold text-blue-600 tracking-widest uppercase mb-3\">\r\n                      {news.category}\r\n                    </span>\r\n                    <h3 className=\"text-lg font-bold text-gray-900 dark:text-white line-clamp-2 hover:text-blue-600 transition-colors tracking-tight leading-snug\">\r\n                      {news.title}\r\n                    </h3>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["NewsDetail","id","useParams","article","loadingDocs","useNewsArticle","relatedNews","useNews","filteredRelatedNews","n","formatDate","dateString","handleShare","err","jsxs","jsx","Navbar","Link","getOptimizedImageUrl","news"],"mappings":"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"}