{"version":3,"file":"NewsletterSubscribers-CXKbLKSe.js","sources":["../../src/pages/admin/NewsletterSubscribers.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { supabase } from '../../lib/supabase';\r\nimport Navbar from '../../components/feature/Navbar';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\ntype Subscriber = {\r\n    id: string;\r\n    email: string;\r\n    created_at: string;\r\n    is_active?: boolean;\r\n    source?: 'subscribers' | 'subscriptions';\r\n};\r\n\r\nexport default function NewsletterSubscribers() {\r\n    const { profile, loading: authLoading } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [subscribers, setSubscribers] = useState<Subscriber[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [notification, setNotification] = useState<{ type: 'success' | 'error', message: string } | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (!authLoading && profile && profile.role !== 'admin' && profile.role !== 'super_admin') {\r\n            navigate('/');\r\n            return;\r\n        }\r\n    }, [profile, authLoading, navigate]);\r\n\r\n    useEffect(() => {\r\n        fetchSubscribers();\r\n    }, []);\r\n\r\n    const fetchSubscribers = async () => {\r\n        setLoading(true);\r\n        const isBypass = localStorage.getItem('sys_admin_bypass') === 'true';\r\n        const secret = localStorage.getItem('sys_admin_secret') || 'pentvars-sys-admin-x892';\r\n\r\n        try {\r\n            let data, error;\r\n\r\n            if (isBypass) {\r\n                const { data: rpcData, error: rpcError } = await supabase.rpc('sys_get_subs_list', { secret_key: secret });\r\n                data = rpcData;\r\n                error = rpcError;\r\n            } else {\r\n                const res = await supabase\r\n                    .from('newsletter_subscribers')\r\n                    .select('*')\r\n                    .order('created_at', { ascending: false });\r\n                data = res.data;\r\n                error = res.error;\r\n            }\r\n\r\n            if (error) throw error;\r\n            setSubscribers(data || []);\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching subscribers:', error);\r\n            setNotification({ type: 'error', message: 'Failed to load subscribers' });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: string, email: string, source: string) => {\r\n        if (!confirm(`Are you sure you want to remove ${email} from the newsletter list?`)) return;\r\n\r\n        try {\r\n            // Delete from the specific table it came from\r\n            const { error } = await supabase\r\n                .from('newsletter_subscribers')\r\n                .delete()\r\n                .eq('id', id);\r\n\r\n            if (error) throw error;\r\n            setNotification({ type: 'success', message: 'Subscriber removed successfully' });\r\n            fetchSubscribers();\r\n        } catch (error) {\r\n            console.error('Error deleting subscriber:', error);\r\n            setNotification({ type: 'error', message: 'Failed to remove subscriber' });\r\n        }\r\n    };\r\n\r\n    // Edit State\r\n    const [editingId, setEditingId] = useState<string | null>(null);\r\n    const [editEmail, setEditEmail] = useState('');\r\n\r\n    const handleEditClick = (sub: Subscriber) => {\r\n        setEditingId(sub.id);\r\n        setEditEmail(sub.email);\r\n    };\r\n\r\n    const handleCancelEdit = () => {\r\n        setEditingId(null);\r\n        setEditEmail('');\r\n    };\r\n\r\n    const handleSaveEdit = async (id: string) => {\r\n        if (!editEmail || !editEmail.includes('@')) {\r\n            setNotification({ type: 'error', message: 'Invalid email address' });\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const isBypass = localStorage.getItem('sys_admin_bypass') === 'true';\r\n            const secret = localStorage.getItem('sys_admin_secret') || 'pentvars-sys-admin-x892';\r\n\r\n            if (isBypass) {\r\n                const { error } = await supabase.rpc('sys_update_subscriber', { target_id: id, new_email: editEmail, secret_key: secret });\r\n                if (error) throw error;\r\n            } else {\r\n                const { error } = await supabase.from('newsletter_subscribers').update({ email: editEmail }).eq('id', id);\r\n                if (error) throw error;\r\n            }\r\n\r\n            setSubscribers(prev => prev.map(s => s.id === id ? { ...s, email: editEmail } : s));\r\n            setNotification({ type: 'success', message: 'Email updated successfully' });\r\n            setEditingId(null);\r\n        } catch (error) {\r\n            console.error(error);\r\n            setNotification({ type: 'error', message: 'Failed to update email' });\r\n        }\r\n    };\r\n\r\n    const handleExport = () => {\r\n        // Create CSV content\r\n        const csvContent = [\r\n            ['ID', 'Email', 'Joined Date'],\r\n            ...subscribers.map(sub => [\r\n                sub.id,\r\n                sub.email,\r\n                new Date(sub.created_at).toLocaleDateString()\r\n            ])\r\n        ].map(e => e.join(\",\")).join(\"\\n\");\r\n\r\n        // Create blob link to download\r\n        const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n        const link = document.createElement(\"a\");\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", `newsletter_subscribers_${new Date().toISOString().split('T')[0]}.csv`);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n        setNotification({ type: 'success', message: 'CSV Export started' });\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 font-sans pb-20 transition-colors duration-300\">\r\n            <Navbar />\r\n\r\n            {/* Notification Toast */}\r\n            {notification && (\r\n                <div className={`fixed top-24 right-4 z-50 animate-in fade-in slide-in-from-right-8 duration-300 px-6 py-4 rounded-2xl shadow-2xl border flex items-center gap-3 backdrop-blur-md ${notification.type === 'success' ? 'bg-emerald-500/90 border-emerald-400/50 text-white' : 'bg-rose-500/90 border-rose-400/50 text-white'}`}>\r\n                    <i className={`${notification.type === 'success' ? 'ri-checkbox-circle-fill' : 'ri-error-warning-fill'} text-xl`}></i>\r\n                    <span className=\"font-bold text-sm tracking-wide\">{notification.message}</span>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"pt-32 pb-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10\">\r\n                    <div>\r\n                        <span className=\"px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-[10px] font-bold uppercase tracking-widest border border-blue-200 dark:border-blue-800 mb-4 inline-block shadow-sm\">\r\n                            Marketing & Growth\r\n                        </span>\r\n                        <h1 className=\"text-3xl md:text-5xl font-black text-slate-900 dark:text-white tracking-tight leading-tight mb-2\">\r\n                            Newsletter<br />\r\n                            <span className=\"text-blue-600\">Subscribers.</span>\r\n                        </h1>\r\n                        <p className=\"text-slate-500 dark:text-slate-400 font-medium text-lg max-w-xl\">\r\n                            Manage your audience and export data for your email campaigns.\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap items-center gap-3\">\r\n                        <button\r\n                            onClick={handleExport}\r\n                            className=\"px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors shadow-sm flex items-center gap-2\"\r\n                        >\r\n                            <i className=\"ri-download-line text-lg\"></i>\r\n                            Export CSV\r\n                        </button>\r\n                        <button\r\n                            onClick={() => navigate('/admin/email-templates')}\r\n                            className=\"px-6 py-3 bg-blue-600 text-white rounded-xl text-xs font-bold uppercase tracking-wide hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20 flex items-center gap-2 group\"\r\n                        >\r\n                            <i className=\"ri-mail-send-line group-hover:rotate-12 transition-transform\"></i>\r\n                            Compose Blast\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white dark:bg-slate-800 rounded-[2.5rem] border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden\">\r\n                    {loading ? (\r\n                        <div className=\"p-20 text-center\">\r\n                            <div className=\"w-12 h-12 border-4 border-slate-100 border-t-blue-600 rounded-full animate-spin mx-auto mb-4\"></div>\r\n                            <div className=\"text-slate-400 text-xs font-bold uppercase tracking-widest\">Loading Subscribers...</div>\r\n                        </div>\r\n                    ) : subscribers.length === 0 ? (\r\n                        <div className=\"p-20 text-center\">\r\n                            <div className=\"w-20 h-20 bg-slate-50 dark:bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6\">\r\n                                <i className=\"ri-mail-open-line text-4xl text-slate-300\"></i>\r\n                            </div>\r\n                            <h3 className=\"text-xl font-bold text-slate-900 dark:text-white mb-2\">No Subscribers Yet</h3>\r\n                            <p className=\"text-slate-500 dark:text-slate-400 mb-6 max-w-sm mx-auto\">\r\n                                No one has subscribed to the newsletter yet. Make sure the subscription form on the home page is working!\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"overflow-x-auto\">\r\n                            <table className=\"w-full text-left border-collapse\">\r\n                                <thead>\r\n                                    <tr className=\"bg-slate-50/50 dark:bg-slate-900/30 border-b border-slate-100 dark:border-slate-700\">\r\n                                        <th className=\"px-8 py-5 text-[10px] font-bold uppercase tracking-widest text-slate-400\">Email Address</th>\r\n                                        <th className=\"px-8 py-5 text-[10px] font-bold uppercase tracking-widest text-slate-400\">Joined Date</th>\r\n                                        <th className=\"px-8 py-5 text-[10px] font-bold uppercase tracking-widest text-slate-400 text-right\">Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"divide-y divide-slate-100 dark:divide-slate-700/50\">\r\n                                    {subscribers.map(sub => (\r\n                                        <tr key={sub.id} className=\"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group\">\r\n                                            <td className=\"px-8 py-5\">\r\n                                                <div className=\"flex items-center gap-4\">\r\n                                                    <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white font-bold text-sm shadow-md shadow-blue-500/20\">\r\n                                                        {sub.email.charAt(0).toUpperCase()}\r\n                                                    </div>\r\n                                                    {editingId === sub.id ? (\r\n                                                        <div className=\"flex items-center gap-2\">\r\n                                                            <input\r\n                                                                type=\"email\"\r\n                                                                value={editEmail}\r\n                                                                onChange={(e) => setEditEmail(e.target.value)}\r\n                                                                className=\"px-3 py-1 text-sm border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none\"\r\n                                                                autoFocus\r\n                                                            />\r\n                                                            <button onClick={() => handleSaveEdit(sub.id)} className=\"w-8 h-8 flex items-center justify-center bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200\">\r\n                                                                <i className=\"ri-check-line\"></i>\r\n                                                            </button>\r\n                                                            <button onClick={handleCancelEdit} className=\"w-8 h-8 flex items-center justify-center bg-slate-100 text-slate-500 rounded-lg hover:bg-slate-200\">\r\n                                                                <i className=\"ri-close-line\"></i>\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <span className=\"font-bold text-slate-700 dark:text-slate-200\">{sub.email}</span>\r\n                                                    )}\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-8 py-5\">\r\n                                                <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 text-xs font-bold\">\r\n                                                    <i className=\"ri-calendar-line text-slate-400\"></i>\r\n                                                    {new Date(sub.created_at).toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' })}\r\n                                                </div>\r\n                                            </td>\r\n                                            <td className=\"px-8 py-5 text-right\">\r\n                                                <button\r\n                                                    onClick={() => handleEditClick(sub)}\r\n                                                    className=\"w-10 h-10 flex items-center justify-center rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 hover:border-blue-200 dark:hover:border-blue-800 transition-all shadow-sm mr-2\"\r\n                                                    title=\"Edit Email\"\r\n                                                >\r\n                                                    <i className=\"ri-pencil-line\"></i>\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleDelete(sub.id, sub.email, 'subscribers')}\r\n                                                    className=\"w-10 h-10 flex items-center justify-center rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 hover:border-rose-200 dark:hover:border-rose-800 transition-all shadow-sm\"\r\n                                                    title=\"Remove Subscriber\"\r\n                                                >\r\n                                                    <i className=\"ri-delete-bin-line text-lg\"></i>\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["NewsletterSubscribers","profile","authLoading","useAuth","navigate","useNavigate","subscribers","setSubscribers","useState","loading","setLoading","notification","setNotification","useEffect","fetchSubscribers","isBypass","secret","data","error","rpcData","rpcError","supabase","res","handleDelete","id","email","source","editingId","setEditingId","editEmail","setEditEmail","handleEditClick","sub","handleCancelEdit","handleSaveEdit","prev","s","handleExport","csvContent","e","blob","link","url","jsxs","jsx","Navbar"],"mappings":"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"}