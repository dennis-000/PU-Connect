{"version":3,"file":"CampusNews-B1J6THDZ.js","sources":["../../src/pages/news/CampusNews.tsx"],"sourcesContent":["import { useState, useMemo, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Navbar from '../../components/feature/Navbar';\r\nimport { getOptimizedImageUrl } from '../../lib/imageOptimization';\r\nimport { useNews } from '../../hooks/useNews';\r\nimport { useSiteContent, CONTENT_KEYS } from '../../hooks/useSiteContent';\r\nimport AdSenseBanner from '../../components/feature/AdSenseBanner';\r\n\r\nexport default function CampusNews() {\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [debouncedSearch, setDebouncedSearch] = useState('');\r\n\r\n  const { url: bannerUrl } = useSiteContent(CONTENT_KEYS.NEWS_BANNER);\r\n\r\n  // Debounce search query\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearch(searchQuery);\r\n    }, 500);\r\n    return () => clearTimeout(timer);\r\n  }, [searchQuery]);\r\n\r\n  const { data: news = [], isLoading: loading } = useNews({\r\n    category: selectedCategory,\r\n    search: debouncedSearch,\r\n  });\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white dark:bg-gray-950 transition-colors duration-300\">\r\n      <Navbar />\r\n\r\n      <section className=\"relative py-16 md:py-32 overflow-hidden bg-gray-950\">\r\n        {/* Background Image Overlay */}\r\n        <div className=\"absolute inset-0 z-0\">\r\n          <img\r\n            src={bannerUrl}\r\n            alt=\"Campus\"\r\n            className=\"w-full h-full object-cover opacity-30 mix-blend-luminosity\"\r\n          />\r\n          <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-gray-950/60 to-gray-950\"></div>\r\n        </div>\r\n\r\n        <div className=\"max-w-7xl mx-auto px-6 md:px-12 relative z-10\">\r\n          {/* News Feed Header */}\r\n          <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-10\">\r\n            <div className=\"text-center md:text-left\">\r\n              <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-indigo-600 text-white text-[10px] font-bold uppercase tracking-wide rounded-full mb-6\">\r\n                <span className=\"w-1.5 h-1.5 bg-white rounded-full animate-pulse\"></span>\r\n                Official Press\r\n              </div>\r\n              <h1 className=\"text-5xl md:text-[6rem] font-bold text-white leading-[0.9] tracking-tight mb-6\">\r\n                University<br /><span className=\"text-indigo-400\">News.</span>\r\n              </h1>\r\n              <p className=\"text-gray-400 font-bold uppercase tracking-wide text-[10px]\">\r\n                OFFICIAL CAMPUS INFORMATION NETWORK\r\n              </p>\r\n            </div>\r\n\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-4 w-full md:w-auto\">\r\n              <form\r\n                onSubmit={(e) => { e.preventDefault(); setDebouncedSearch(searchQuery); }}\r\n                className=\"relative group flex-1 sm:w-80\"\r\n              >\r\n                <i className=\"ri-search-line absolute left-6 top-1/2 -translate-y-1/2 text-xl text-gray-400 group-focus-within:text-indigo-400 transition-all pointer-events-none\"></i>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search articles...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"w-full pl-16 pr-32 py-5 bg-white/10 border border-white/10 rounded-2xl focus:bg-white/20 focus:border-indigo-400 outline-none transition-all font-semibold text-white placeholder-gray-400 text-lg backdrop-blur-md\"\r\n                />\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"absolute right-2 top-2 bottom-2 px-6 bg-indigo-600 text-white rounded-xl font-bold uppercase text-[10px] tracking-widest hover:bg-indigo-500 transition-all shadow-lg active:scale-95\"\r\n                >\r\n                  Search\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-12 py-12 md:py-20\">\r\n\r\n        {/* Google AdSense Banner */}\r\n        <AdSenseBanner className=\"mb-12\" />\r\n\r\n        {/* Matrix Categories */}\r\n        <div className=\"mb-20 overflow-x-auto pb-4 no-scrollbar\">\r\n          <div className=\"flex gap-4 md:gap-6 min-w-max px-2\">\r\n            {[\r\n              { id: 'all', label: 'All News', icon: 'ri-apps-2-line' },\r\n              { id: 'Events', label: 'Campus Events', icon: 'ri-calendar-event-line' },\r\n              { id: 'Academics', label: 'Academics', icon: 'ri-book-open-line' },\r\n              { id: 'Campus Life', label: 'Student Life', icon: 'ri-team-line' },\r\n              { id: 'Notices', label: 'Official Notices', icon: 'ri-notification-3-line' }\r\n            ].map((category) => (\r\n              <button\r\n                key={category.id}\r\n                onClick={() => setSelectedCategory(category.id)}\r\n                className={`flex items-center gap-4 px-8 py-4 rounded-xl font-bold text-xs uppercase tracking-wider transition-all active:scale-95 cursor-pointer ${selectedCategory === category.id\r\n                  ? 'bg-gray-900 dark:bg-blue-600 text-white shadow-lg'\r\n                  : 'bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 text-gray-500 dark:text-gray-400 hover:border-gray-200 dark:hover:border-gray-700'\r\n                  }`}\r\n              >\r\n                <i className={`${category.icon} text-xl`}></i>\r\n                {category.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Intel Grid */}\r\n        {loading ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10\">\r\n            {[1, 2, 3, 4, 5, 6].map(i => (\r\n              <div key={i} className=\"h-[550px] bg-gray-50 dark:bg-gray-900 rounded-2xl animate-pulse\"></div>\r\n            ))}\r\n          </div>\r\n        ) : news.length > 0 ? (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10\">\r\n            {news.map((article) => (\r\n              <Link\r\n                key={article.id}\r\n                to={`/news/${article.id}`}\r\n                className=\"bg-white dark:bg-gray-900 rounded-2xl p-4 border border-gray-100 dark:border-gray-800 shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-700 group cursor-pointer\"\r\n              >\r\n                <div className=\"relative h-72 rounded-xl overflow-hidden bg-gray-50 dark:bg-gray-800 mb-8\">\r\n                  <img\r\n                    src={getOptimizedImageUrl(article.image_url, 800, 85)}\r\n                    alt={article.title}\r\n                    className=\"w-full h-full object-cover transition-transform duration-[2s] group-hover:scale-110\"\r\n                  />\r\n                  <div className=\"absolute top-6 right-6\">\r\n                    <span className=\"px-4 py-2 bg-indigo-600 text-white text-[9px] font-bold uppercase tracking-wide rounded-lg\">\r\n                      {article.category}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"px-4 pb-4\">\r\n                  <div className=\"flex items-center gap-4 text-[10px] font-bold text-gray-400 uppercase tracking-wide mb-6\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <i className=\"ri-calendar-line text-indigo-500 text-base\"></i>\r\n                      {formatDate(article.created_at)}\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 ml-auto\">\r\n                      <i className=\"ri-eye-line text-base\"></i>\r\n                      {article.views_count || 0}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-8 leading-tight tracking-tight group-hover:text-indigo-600 dark:group-hover:text-blue-400 transition-colors line-clamp-2\">\r\n                    {article.title}\r\n                  </h3>\r\n\r\n                  <div className=\"flex items-center justify-between pt-6 border-t border-gray-50 dark:border-gray-800\">\r\n                    <p className=\"text-xs font-bold text-gray-400 uppercase tracking-wide\">Read Article</p>\r\n                    <div className=\"w-12 h-12 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white rounded-xl flex items-center justify-center group-hover:bg-indigo-600 group-hover:text-white transition-all\">\r\n                      <i className=\"ri-arrow-right-line text-xl\"></i>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"py-40 text-center bg-gray-50 dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-800\">\r\n            <div className=\"w-24 h-24 bg-white dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-10 shadow-lg\">\r\n              <i className=\"ri-article-line text-4xl text-gray-200 dark:text-gray-700\"></i>\r\n            </div>\r\n            <h3 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4 tracking-tight\">No articles found.</h3>\r\n            <p className=\"text-gray-400 font-semibold uppercase tracking-wide text-xs\">There are no updates available for this category at the moment.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CampusNews","selectedCategory","setSelectedCategory","useState","searchQuery","setSearchQuery","debouncedSearch","setDebouncedSearch","bannerUrl","useSiteContent","CONTENT_KEYS","useEffect","timer","news","loading","useNews","formatDate","dateString","jsxs","jsx","Navbar","e","AdSenseBanner","category","i","article","Link","getOptimizedImageUrl"],"mappings":"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"}