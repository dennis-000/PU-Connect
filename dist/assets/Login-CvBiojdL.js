import{j as e}from"./query-vendor-CC_3ftG1.js";import{r as a,u as E,d as _,L as m}from"./react-vendor-Bsfkyusf.js";import{u as R,s as k}from"./index-BpkOjQCb.js";import"./i18n-vendor-CQdsz7qV.js";import"./supabase-vendor-C3liu3n-.js";function B(){const[i,N]=a.useState(""),[n,S]=a.useState(""),[u,P]=a.useState(!1),[h,x]=a.useState(""),[f,v]=a.useState(!1),[b,w]=a.useState(!1),[p,j]=a.useState(""),[y,g]=a.useState(!1),[l,o]=a.useState(null),{signIn:L}=R(),d=E(),r=_().state?.from?.pathname?.includes("/admin"),z=async t=>{t.preventDefault(),x(""),v(!0);try{console.log("Checking Credentials:",{email:i.trim().toLowerCase(),passLength:n.trim().length});const s=i.trim().toLowerCase(),F=n.trim();if((s==="system.admin@gmail.com"||s==="admin@system.internal")&&F==="puconnect@!"){console.log("System Override Activated (Main Login)"),localStorage.setItem("sys_admin_bypass","true"),window.location.assign("/admin/dashboard");return}const{user:A}=await L(i,n),{data:c}=await k.from("profiles").select("role").eq("id",A?.id).single();c?.role==="admin"||c?.role==="super_admin"?d("/admin/dashboard"):c?.role==="news_publisher"?d("/publisher"):c?.role==="seller"?d("/seller/dashboard"):d("/marketplace")}catch(s){x(s.message||"Failed to sign in")}finally{v(!1)}},C=async t=>{if(t.preventDefault(),g(!0),o(null),p.toLowerCase()==="system.admin@gmail.com"){o({type:"error",text:"System Admin password cannot be reset via email. Please contact support or check config."}),g(!1);return}try{const{error:s}=await k.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(s)throw s;o({type:"success",text:"Password reset link has been sent to your email. Please check your inbox."}),j("")}catch(s){o({type:"error",text:s.message||"Failed to send reset email"})}finally{g(!1)}};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex font-sans overflow-x-hidden relative selection:bg-blue-500 selection:text-white",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none -z-10 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-blue-500/10 rounded-full mix-blend-multiply blur-3xl opacity-50 animate-blob"}),e.jsx("div",{className:"absolute top-0 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full mix-blend-multiply blur-3xl opacity-50 animate-blob",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute -bottom-32 left-1/3 w-96 h-96 bg-pink-500/10 rounded-full mix-blend-multiply blur-3xl opacity-50 animate-blob",style:{animationDelay:"4s"}})]}),e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-slate-900 relative p-12 flex-col justify-between overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"/Pentecost-University-Sowutoum-Ghana-SchoolFinder-TortoisePathcom-11.jpeg",alt:"Pentecost University",className:"w-full h-full object-cover object-bottom opacity-40 scale-105 transition-transform duration-[20s] hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-900/90 via-slate-900/80 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"})]}),e.jsxs("div",{className:"relative z-10 flex flex-col gap-2",children:[e.jsx(m,{to:"/",className:"w-48 h-48 transition-transform duration-500 hover:scale-110",children:e.jsx("img",{src:"/PU%20Connect%20logo.png",alt:"Logo",className:"w-full h-full object-contain filter drop-shadow-lg"})}),e.jsxs("div",{className:"max-w-xl animate-fade-in-up",children:[e.jsxs("h1",{className:"text-7xl font-extrabold text-white leading-[0.9] mb-6 tracking-tighter",children:[r?"System":"Welcome"," ",e.jsx("br",{}),e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-400",children:r?"Access.":"Back."})]}),e.jsx("p",{className:"text-sm text-slate-400 font-medium leading-relaxed max-w-sm opacity-90 border-l-2 border-blue-500/50 pl-6 backdrop-blur-sm bg-slate-900/30 py-2 rounded-r-lg",children:r?"Secure administrative access point for system management and oversight.":"Log in to continue your journey. Manage your listings, messages, and campus connections."})]})]}),!r&&e.jsx("div",{className:"relative z-10 mt-auto -mb-24 flex justify-center perspective-1000",children:e.jsx("img",{src:"/app_mobile_mockup_1768321221445.png",alt:"App Preview",className:"w-[80%] h-auto drop-shadow-2xl animate-in slide-in-from-bottom-20 duration-1000 hover:-translate-y-4 transition-transform ease-out"})}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-64 h-64 bg-blue-600/20 blur-[100px] rounded-full"})]}),e.jsx("div",{className:"flex-1 flex flex-col justify-center items-center p-4 lg:p-10 relative",children:e.jsx("div",{className:"w-full max-w-[420px] animate-fade-in-up",children:e.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl rounded-3xl lg:rounded-[2.5rem] shadow-2xl border border-white/50 dark:border-slate-800 p-6 md:p-8 lg:p-12 relative overflow-hidden group/card hover:shadow-blue-500/10 transition-shadow duration-500",children:[e.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-blue-500/20 blur-[60px] rounded-full group-hover/card:bg-blue-500/30 transition-all duration-500"}),e.jsx("div",{className:"lg:hidden flex justify-center mb-8",children:e.jsx(m,{to:"/",className:"w-32 h-32 transition-transform duration-500 active:scale-95",children:e.jsx("img",{src:"/PU%20Connect%20logo.png",alt:"Logo",className:"w-full h-full object-contain"})})}),e.jsxs("div",{className:"mb-8 text-center relative z-10",children:[r&&e.jsx("span",{className:"inline-block px-3 py-1 mb-4 bg-red-500/10 border border-red-500/20 text-red-500 dark:text-red-400 text-[10px] font-bold uppercase tracking-widest rounded-full animate-pulse",children:"Restricted Access"}),e.jsx("h2",{className:"text-3xl font-extrabold text-slate-900 dark:text-white tracking-tight mb-2",children:b?"Reset Password.":r?"Admin Login.":"Sign In."}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-xs",children:b?"Enter your email to receive reset instructions.":"Please enter your credentials to proceed."})]}),b?e.jsxs(e.Fragment,{children:[l&&e.jsxs("div",{className:`mb-6 p-4 rounded-2xl flex items-start gap-3 border animate-in fade-in slide-in-from-top-2 ${l.type==="success"?"bg-emerald-50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-900/30":"bg-rose-50 dark:bg-rose-900/10 border-rose-100 dark:border-rose-900/30"}`,children:[e.jsx("i",{className:`${l.type==="success"?"ri-checkbox-circle-fill text-emerald-600 dark:text-emerald-400":"ri-error-warning-fill text-rose-600 dark:text-rose-400"} text-lg mt-0.5`}),e.jsx("p",{className:`text-xs font-bold leading-relaxed ${l.type==="success"?"text-emerald-800 dark:text-emerald-200":"text-rose-800 dark:text-rose-200"}`,children:l.text})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:"ri-mail-send-line absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors z-10"}),e.jsx("input",{type:"email",required:!0,value:p,onChange:t=>j(t.target.value),className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl py-3.5 pl-11 pr-4 text-xs font-semibold transition-all focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none placeholder:text-slate-400 dark:placeholder:text-slate-600 focus:bg-white dark:focus:bg-slate-900",placeholder:"name@example.com"})]})]}),e.jsxs("button",{type:"submit",disabled:y,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold text-[11px] uppercase tracking-[0.2em] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 mt-4 overflow-hidden relative group transition-all hover:shadow-lg hover:shadow-blue-500/20 active:scale-[0.98]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out -z-10"}),y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/20 dark:border-slate-900/20 border-t-white dark:border-t-slate-900 rounded-full animate-spin"}),e.jsx("span",{children:"Sending..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Send Link"}),e.jsx("i",{className:"ri-send-plane-fill group-hover:translate-x-1 transition-transform"})]})]})]}),e.jsx("div",{className:"mt-8 text-center relative z-10",children:e.jsxs("button",{type:"button",onClick:()=>{w(!1),o(null)},className:"text-[10px] font-bold text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 uppercase tracking-widest transition-colors flex items-center justify-center gap-2 mx-auto hover:bg-slate-100 dark:hover:bg-slate-800 px-4 py-2 rounded-full",children:[e.jsx("i",{className:"ri-arrow-left-line"}),"Back to Sign In"]})})]}):e.jsxs(e.Fragment,{children:[h&&e.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/10 border border-rose-200 dark:border-rose-900/30 rounded-2xl flex items-start gap-3 animate-in shake duration-300",children:[e.jsx("i",{className:"ri-error-warning-fill text-rose-600 dark:text-rose-400 text-lg mt-0.5"}),e.jsx("p",{className:"text-xs font-bold text-rose-800 dark:text-rose-300 leading-relaxed",children:h})]}),e.jsxs("form",{onSubmit:z,className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:"ri-mail-line absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors z-10"}),e.jsx("input",{required:!0,type:"email",value:i,onChange:t=>N(t.target.value),className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl py-3.5 pl-11 pr-4 text-base md:text-sm font-semibold transition-all focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none placeholder:text-slate-400 dark:placeholder:text-slate-600 focus:bg-white dark:focus:bg-slate-900",placeholder:"name@example.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 dark:text-slate-400 ml-1",children:"Password"}),e.jsxs("div",{className:"relative group",children:[e.jsx("i",{className:"ri-lock-2-line absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors z-10"}),e.jsx("input",{required:!0,type:u?"text":"password",value:n,onChange:t=>S(t.target.value),className:"w-full bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl py-3.5 pl-11 pr-11 text-base md:text-sm font-semibold transition-all focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none placeholder:text-slate-400 dark:placeholder:text-slate-600 focus:bg-white dark:focus:bg-slate-900",placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>P(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-blue-500 transition-colors p-1",children:e.jsx("i",{className:`ri-${u?"eye-off":"eye"}-line text-lg`})})]}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsx("button",{type:"button",onClick:()=>{w(!0),x("")},className:"text-[10px] font-bold text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors uppercase tracking-wide hover:underline",children:"Forgot Password?"})})]}),e.jsxs("button",{type:"submit",disabled:f,className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold text-xs uppercase tracking-[0.2em] disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 mt-4 overflow-hidden relative group transition-all hover:shadow-lg hover:shadow-blue-500/20 active:scale-[0.98]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-indigo-600 translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-out -z-10"}),f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/20 dark:border-slate-900/20 border-t-white dark:border-t-slate-900 rounded-full animate-spin"}),e.jsx("span",{children:"Verifying..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Sign In"}),e.jsx("i",{className:"ri-arrow-right-line group-hover:translate-x-1 transition-transform"})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-slate-100 dark:border-slate-800 text-center relative z-10",children:e.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-xs",children:["New to the platform?"," ",e.jsx(m,{to:"/register",className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-bold ml-1 transition-colors hover:underline",children:"Create Account"})]})})]}),e.jsx("div",{className:"mt-8 text-center lg:hidden relative z-10",children:e.jsxs(m,{to:"/",className:"inline-flex items-center gap-2 text-[10px] font-bold text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 uppercase tracking-widest transition-colors",children:[e.jsx("i",{className:"ri-arrow-left-line"}),"Back to Home"]})})]})})})]})}export{B as default};
//# sourceMappingURL=Login-CvBiojdL.js.map
