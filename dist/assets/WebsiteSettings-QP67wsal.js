import{j as e}from"./query-vendor-Cpskl8RO.js";import{u as g,r as i}from"./react-vendor-Bsfkyusf.js";import{u as j,s as n,N as w}from"./index-4BAF1yr7.js";import"./i18n-vendor-CQdsz7qV.js";import"./supabase-vendor-C3liu3n-.js";function S(){const{profile:o}=j(),x=g(),[p,m]=i.useState(!1),[u,b]=i.useState(!1),[r,d]=i.useState(null),[t,c]=i.useState({site_name:"Campus Marketplace",site_tagline:"Buy, Sell & Connect on Campus",hero_title:"Your Campus Marketplace",hero_subtitle:"Connect with students, buy and sell products, discover campus news",hero_cta_text:"Get Started",about_title:"About Our Platform",about_description:"We connect students on campus to buy, sell, and trade products and services.",contact_email:"info@campusmarketplace.com",contact_phone:"+233 XX XXX XXXX",whatsapp_number:"+233 XX XXX XXXX",facebook_url:"",twitter_url:"",instagram_url:"",footer_text:"Â© 2026 Campus Marketplace. All rights reserved.",system_default_password:"Password123!",enable_sms:!0});i.useEffect(()=>{if(o?.role!=="admin"&&o?.role!=="super_admin"){x("/");return}h()},[o]),i.useEffect(()=>{if(r){const l=setTimeout(()=>d(null),5e3);return()=>clearTimeout(l)}},[r]);const h=async()=>{m(!0);try{const{data:l,error:a}=await n.from("website_settings").select("*").single();if(a&&a.code!=="PGRST116")throw a;l&&c(l)}catch(l){console.error("Error loading settings:",l)}finally{m(!1)}},f=async()=>{b(!0);try{const{data:l}=await n.from("website_settings").select("id").single();if(l){const{error:a}=await n.from("website_settings").update({...t,updated_at:new Date().toISOString()}).eq("id",l.id);if(a)throw a}else{const{error:a}=await n.from("website_settings").insert({...t,updated_at:new Date().toISOString()});if(a)throw a}d({type:"success",message:"Settings saved successfully!"})}catch(l){d({type:"error",message:l.message||"Failed to save settings"})}finally{b(!1)}},s=l=>{c({...t,[l.target.name]:l.target.value})};return p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),e.jsx("p",{className:"text-slate-300 font-semibold text-lg",children:"Loading Settings..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(w,{}),r&&e.jsx("div",{className:"fixed top-24 right-6 z-50 animate-in slide-in-from-right fade-in duration-300",children:e.jsxs("div",{className:`px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 text-white font-bold backdrop-blur-xl border ${r.type==="success"?"bg-emerald-600/90 border-emerald-500/50":"bg-rose-600/90 border-rose-500/50"}`,children:[e.jsx("i",{className:`text-xl ${r.type==="success"?"ri-checkbox-circle-line":"ri-error-warning-line"}`}),e.jsx("span",{className:"text-sm",children:r.message})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 lg:px-8 pt-32 pb-20",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h1",{className:"text-5xl font-black text-white mb-3 tracking-tight",children:"Website Settings"}),e.jsx("p",{className:"text-slate-400 font-medium text-lg",children:"Customize your platform without touching code"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center text-blue-400",children:e.jsx("i",{className:"ri-settings-3-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"General Settings"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Site Name"}),e.jsx("input",{type:"text",name:"site_name",value:t.site_name,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Site Tagline"}),e.jsx("input",{type:"text",name:"site_tagline",value:t.site_tagline,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"System Announcement"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-megaphone-line absolute left-5 top-1/2 -translate-y-1/2 text-slate-500 text-xl"}),e.jsx("input",{type:"text",name:"announcement_bar",value:t.announcement_bar||"",onChange:s,placeholder:"e.g. Testing development...",className:"w-full pl-14 pr-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:"Leave empty to hide. This message will be shown to ALL users at the top of the site."})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center text-red-400",children:e.jsx("i",{className:"ri-shield-keyhole-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"Security Settings"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Default System Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-lock-password-line absolute left-5 top-1/2 -translate-y-1/2 text-slate-500 text-xl"}),e.jsx("input",{type:"text",name:"system_default_password",value:t.system_default_password||"",onChange:s,placeholder:"Enter default system password",className:"w-full pl-14 pr-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-red-500 focus:ring-4 focus:ring-red-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsx("p",{className:"text-xs text-slate-500 mt-2 font-medium",children:"This password will be used for system-level operations or default user resets."})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center text-emerald-400",children:e.jsx("i",{className:"ri-home-heart-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"Homepage Hero Section"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Hero Title"}),e.jsx("input",{type:"text",name:"hero_title",value:t.hero_title,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Hero Subtitle"}),e.jsx("textarea",{name:"hero_subtitle",value:t.hero_subtitle,onChange:s,rows:3,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/20 text-white placeholder-slate-500 transition-all font-medium resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Call-to-Action Button Text"}),e.jsx("input",{type:"text",name:"hero_cta_text",value:t.hero_cta_text,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-emerald-500 focus:ring-4 focus:ring-emerald-500/20 text-white placeholder-slate-500 transition-all font-medium"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-violet-500/10 flex items-center justify-center text-violet-400",children:e.jsx("i",{className:"ri-information-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"About Section"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"About Title"}),e.jsx("input",{type:"text",name:"about_title",value:t.about_title,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"About Description"}),e.jsx("textarea",{name:"about_description",value:t.about_description,onChange:s,rows:4,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-violet-500 focus:ring-4 focus:ring-violet-500/20 text-white placeholder-slate-500 transition-all font-medium resize-none"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-500/10 flex items-center justify-center text-amber-400",children:e.jsx("i",{className:"ri-contacts-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"Contact Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Contact Email"}),e.jsx("input",{type:"email",name:"contact_email",value:t.contact_email,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-amber-500 focus:ring-4 focus:ring-amber-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Contact Phone"}),e.jsx("input",{type:"tel",name:"contact_phone",value:t.contact_phone,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-amber-500 focus:ring-4 focus:ring-amber-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",name:"whatsapp_number",value:t.whatsapp_number,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-amber-500 focus:ring-4 focus:ring-amber-500/20 text-white placeholder-slate-500 transition-all font-medium"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-rose-500/10 flex items-center justify-center text-rose-400",children:e.jsx("i",{className:"ri-share-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"Social Media Links"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Facebook URL"}),e.jsx("input",{type:"url",name:"facebook_url",value:t.facebook_url,onChange:s,placeholder:"https://facebook.com/yourpage",className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-rose-500 focus:ring-4 focus:ring-rose-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Twitter URL"}),e.jsx("input",{type:"url",name:"twitter_url",value:t.twitter_url,onChange:s,placeholder:"https://twitter.com/yourhandle",className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-rose-500 focus:ring-4 focus:ring-rose-500/20 text-white placeholder-slate-500 transition-all font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Instagram URL"}),e.jsx("input",{type:"url",name:"instagram_url",value:t.instagram_url,onChange:s,placeholder:"https://instagram.com/yourhandle",className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-rose-500 focus:ring-4 focus:ring-rose-500/20 text-white placeholder-slate-500 transition-all font-medium"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-500/10 flex items-center justify-center text-slate-400",children:e.jsx("i",{className:"ri-layout-bottom-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"Footer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-3 uppercase tracking-wider",children:"Footer Text"}),e.jsx("input",{type:"text",name:"footer_text",value:t.footer_text,onChange:s,className:"w-full px-5 py-4 bg-slate-900/50 border border-slate-700 rounded-xl focus:border-slate-500 focus:ring-4 focus:ring-slate-500/20 text-white placeholder-slate-500 transition-all font-medium"})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-indigo-500/10 flex items-center justify-center text-indigo-400",children:e.jsx("i",{className:"ri-settings-4-line text-2xl"})}),e.jsx("h2",{className:"text-2xl font-black text-white",children:"System Preferences"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 rounded-xl border border-slate-800",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-lg mb-1",children:"Global SMS Notifications"}),e.jsx("p",{className:"text-slate-400 text-sm",children:"Enable or disable all automated SMS messages (OTP, Deal Alerts, Welcome messages)."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.enable_sms!==!1,onChange:l=>c({...t,enable_sms:l.target.checked}),className:"sr-only peer"}),e.jsx("div",{className:"w-14 h-7 bg-slate-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[4px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-6 after:w-6 after:transition-all peer-checked:bg-indigo-600"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{onClick:()=>x("/admin/dashboard"),className:"px-8 py-4 bg-slate-800 hover:bg-slate-700 text-white font-bold rounded-xl border border-slate-700 transition-all",children:"Cancel"}),e.jsx("button",{onClick:f,disabled:u,className:"px-10 py-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-bold rounded-xl shadow-xl shadow-blue-500/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Saving..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("i",{className:"ri-save-line"}),"Save Changes"]})})]})]})]})]})}export{S as default};
//# sourceMappingURL=WebsiteSettings-QP67wsal.js.map
