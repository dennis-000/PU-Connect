const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/arkesel-Dq7aY5jr.js","assets/index-4BAF1yr7.js","assets/query-vendor-Cpskl8RO.js","assets/react-vendor-Bsfkyusf.js","assets/i18n-vendor-CQdsz7qV.js","assets/supabase-vendor-C3liu3n-.js","assets/index-D1xfiXYm.css"])))=>i.map(i=>d[i]);
import{_ as P}from"./supabase-vendor-C3liu3n-.js";import{j as e}from"./query-vendor-Cpskl8RO.js";import{u as te,r as l}from"./react-vendor-Bsfkyusf.js";import{u as se,s as d,N as ae}from"./index-4BAF1yr7.js";import"./i18n-vendor-CQdsz7qV.js";const le=[{title:"Meeting Reminder",text:"Reminder: All staff meeting tomorrow at 10 AM at the main hall."},{title:"Maintenance Alert",text:"System Alert: PU Connect will undergoing scheduled maintenance tonight from 11 PM to 4 AM."},{title:"Welcome Message",text:"Welcome to PU Connect! We are glad to have you on board."},{title:"Application Update",text:"Update: Your seller application status has changed. Please check your dashboard."}];function ce(){const{profile:o}=se(),h=te(),[u,T]=l.useState([]),[r,x]=l.useState([]),[n,b]=l.useState(""),[y,k]=l.useState(!1),[p,L]=l.useState("all"),[g,U]=l.useState("all"),[f,D]=l.useState(""),[m,R]=l.useState("compose"),[j,B]=l.useState([]),[v,F]=l.useState([]),[i,w]=l.useState(""),[H,$]=l.useState(0),[z,S]=l.useState(!0),[O,_]=l.useState(!1),[I,M]=l.useState(!1),[C,G]=l.useState([]),q=[{units:500,price:15,label:"Sprint",icon:"ri-flashlight-line",type:"no-expiry"},{units:1500,price:40,label:"Velocity",icon:"ri-rocket-line",type:"no-expiry"},{units:3500,price:90,label:"Altitude",icon:"ri-medal-line",type:"no-expiry"},{units:1e4,price:250,label:"Orbital",icon:"ri-crown-line",type:"no-expiry"},{units:2e4,price:450,label:"Galactic",icon:"ri-rocket-2-fill",type:"monthly"}];l.useEffect(()=>{if(o?.role!=="admin"&&o?.role!=="super_admin"){h("/marketplace");return}V(),N(),E(),A(),W()},[o,h]);const A=async()=>{S(!0);try{const{getSMSBalance:t}=await P(async()=>{const{getSMSBalance:a}=await import("./arkesel-Dq7aY5jr.js");return{getSMSBalance:a}},__vite__mapDeps([0,1,2,3,4,5,6])),s=await t();$(s)}catch(t){console.error("Failed to fetch SMS balance",t)}finally{S(!1)}},V=async()=>{try{const{data:t,error:s}=await d.from("profiles").select("id, full_name, email, role, phone, faculty").order("full_name");if(s)throw s;T(t||[])}catch(t){console.error("Error fetching users:",t)}},N=async()=>{try{const{data:t,error:s}=await d.from("scheduled_sms").select("*").order("scheduled_at",{ascending:!0});if(s)throw s;B(t||[])}catch(t){console.error("Error fetching scheduled SMS:",t)}},E=async()=>{try{const{data:t,error:s}=await d.from("activity_logs").select(`
          id,
          created_at,
          action_details,
          user:user_id ( full_name )
        `).eq("action_type","sms_sent").order("created_at",{ascending:!1}).limit(50);if(s)throw s;F(t||[])}catch(t){console.error("Error fetching SMS history:",t)}},W=async()=>{try{const{data:t,error:s}=await d.from("sms_topups").select("*").order("created_at",{ascending:!1});if(s)throw s;G(t||[])}catch(t){console.error("Error fetching topup history:",t)}},Y=()=>{r.length===c.length?x([]):x(c.map(t=>t.id))},K=t=>{r.includes(t)?x(r.filter(s=>s!==t)):x([...r,t])},Q=async()=>{if(r.length===0){alert("Please select at least one recipient");return}if(!n.trim()){alert("Please enter a message");return}k(!0);try{const t=new Set(u.filter(a=>r.includes(a.id)&&a.phone).map(a=>a.phone)),s=Array.from(t);if(s.length===0)throw new Error("Selected users do not have valid phone numbers");if(i){const{error:a}=await d.from("scheduled_sms").insert({recipients:s,message:n,scheduled_at:new Date(i).toISOString(),status:"pending",created_by:o?.id});if(a)throw a;alert(`Message scheduled for ${new Date(i).toLocaleString()}!`),w(""),N()}else await P(async()=>{const{sendSMS:a}=await import("./arkesel-Dq7aY5jr.js");return{sendSMS:a}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({sendSMS:a})=>a(s,n)),await d.from("activity_logs").insert({user_id:o?.id,action_type:"sms_sent",action_details:{message:n,recipient_count:s.length,sent_at:new Date().toISOString()}}),A(),E(),alert(`SMS sent successfully to ${s.length} user(s)!`);b(""),x([])}catch(t){console.error("SMS Error:",t),alert(t.message||"Failed to send SMS")}finally{k(!1)}},J=async t=>{if(confirm("Are you sure you want to cancel this scheduled message?"))try{const{error:s}=await d.from("scheduled_sms").delete().eq("id",t);if(s)throw s;N()}catch(s){alert("Failed to delete: "+s.message)}},X=async t=>{M(!0);try{const{data:s,error:a}=await d.functions.invoke("initialize-paystack-payment",{body:{email:o?.email,amount:t.price,metadata:{type:"sms_topup",units:t.units,admin_id:o?.id}}});if(a)throw a;s?.authorization_url&&(window.location.href=s.authorization_url)}catch(s){console.error("Purchase initialization failed:",s),alert(s.message||"Failed to initialize payment")}finally{M(!1)}},Z=Array.from(new Set(u.map(t=>t.faculty).filter(Boolean))),c=u.filter(t=>{const s=t.full_name.toLowerCase().includes(f.toLowerCase())||t.email.toLowerCase().includes(f.toLowerCase()),a=p==="all"||t.role===p,ee=g==="all"||t.faculty===g;return s&&a&&ee});return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-300 font-sans",children:[e.jsx(ae,{}),e.jsxs("div",{className:"pt-28 pb-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900 dark:text-white tracking-tight",children:"SMS Console"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Broadcast System & Engagement"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 px-6 py-4 rounded-3xl border border-slate-100 dark:border-slate-700 shadow-sm flex items-center gap-4 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 flex items-center justify-center text-xl",children:e.jsx("i",{className:"ri-coins-line"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-400",children:"SMS Balance"}),z?e.jsx("div",{className:"h-6 w-24 bg-slate-200 dark:bg-slate-700 rounded animate-pulse"}):e.jsxs("div",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none",children:[H.toLocaleString()," ",e.jsx("span",{className:"text-xs font-bold text-slate-400 ml-1",children:"UNITS"})]})]})]}),e.jsxs("button",{onClick:()=>_(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-3xl font-black text-sm uppercase tracking-widest transition-all shadow-lg shadow-indigo-600/25 active:scale-95 flex items-center gap-3",children:[e.jsx("i",{className:"ri-add-circle-line text-lg"}),"Top Up Credits"]}),e.jsx("button",{onClick:()=>h("/admin/dashboard"),className:"bg-white dark:bg-slate-800 p-4 rounded-3xl border border-slate-200 dark:border-slate-700 shadow-sm text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors flex items-center justify-center",title:"Back to Dashboard",children:e.jsx("i",{className:"ri-arrow-left-line text-xl"})})]})]}),e.jsx("div",{className:"flex space-x-1 bg-slate-200/50 dark:bg-slate-800 p-1 rounded-xl w-fit mb-6 overflow-x-auto",children:[{id:"compose",label:"Compose",icon:"ri-edit-box-line"},{id:"scheduled",label:`Scheduled (${j.length})`,icon:"ri-calendar-event-line"},{id:"history",label:"Sent History",icon:"ri-history-line"},{id:"topups",label:"Topup History",icon:"ri-bank-card-line"}].map(t=>e.jsxs("button",{onClick:()=>R(t.id),className:`flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold transition-all whitespace-nowrap ${m===t.id?"bg-white text-blue-600 shadow-sm ring-1 ring-black/5 dark:bg-slate-700 dark:text-white":"text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white"}`,children:[e.jsx("i",{className:t.icon}),t.label]},t.id))}),m==="compose"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 overflow-hidden shadow-sm flex flex-col h-[600px]",children:[e.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-700 shrink-0",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Select Recipients"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:f,onChange:t=>D(t.target.value),placeholder:"Search users...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-blue-500 text-sm outline-none dark:text-white"})]}),e.jsxs("select",{value:p,onChange:t=>L(t.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-blue-500 text-sm cursor-pointer outline-none dark:text-white",children:[e.jsx("option",{value:"all",children:"All Roles"}),e.jsx("option",{value:"buyer",children:"Buyers Only"}),e.jsx("option",{value:"seller",children:"Sellers Only"})]}),e.jsxs("select",{value:g,onChange:t=>U(t.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-blue-500 text-sm cursor-pointer outline-none dark:text-white",children:[e.jsx("option",{value:"all",children:"All Faculties"}),Z.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-900 rounded-xl",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.length===c.length&&c.length>0,onChange:Y,className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:["Select All (",c.length,")"]})]}),e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wide text-slate-500",children:[r.length," selected"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-2",children:c.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[e.jsx("i",{className:"ri-user-search-line text-5xl text-slate-300 mb-4"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"No users found matching your criteria"})]}):e.jsx("div",{className:"space-y-1",children:c.map(t=>e.jsxs("label",{className:`flex items-center space-x-4 p-3 rounded-xl cursor-pointer transition-all ${r.includes(t.id)?"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50 border border-transparent"}`,children:[e.jsx("input",{type:"checkbox",checked:r.includes(t.id),onChange:()=>K(t.id),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-blue-500 cursor-pointer"}),e.jsx("div",{className:"w-10 h-10 bg-slate-100 dark:bg-slate-700 rounded-full flex items-center justify-center flex-shrink-0 font-bold text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-600",children:t.full_name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white truncate",children:t.full_name}),e.jsx("span",{className:`px-1.5 py-0.5 text-[9px] font-bold uppercase tracking-wide rounded-md border ${t.role==="seller"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:t.role})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 truncate",children:[e.jsx("span",{children:t.email}),t.faculty&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),e.jsx("span",{className:"text-slate-500",children:t.faculty})]})]})]})]},t.id))})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-6 sticky top-28 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6",children:"Compose Message"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-xs font-bold uppercase tracking-wide text-slate-500 mb-2",children:"Quick Templates"}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:le.map((t,s)=>e.jsx("button",{onClick:()=>b(t.text),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg text-xs font-medium text-slate-600 dark:text-slate-300 whitespace-nowrap transition-colors",children:t.title},s))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-xs font-bold uppercase tracking-wide text-slate-500 mb-2",children:"Message Content"}),e.jsx("textarea",{value:n,onChange:t=>b(t.target.value),rows:6,maxLength:160,placeholder:"Type your broadcast message...",className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-blue-500 outline-none resize-none text-sm font-medium dark:text-white"}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400",children:"1 credit per SMS"}),e.jsxs("p",{className:`text-xs font-bold ${n.length>150?"text-amber-500":"text-slate-400"}`,children:[n.length,"/160"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-xs font-bold uppercase tracking-wide text-slate-500 mb-2 flex items-center justify-between",children:[e.jsx("span",{children:"Schedule Delivery (Optional)"}),i&&e.jsx("button",{onClick:()=>w(""),className:"text-[10px] text-rose-500 hover:underline uppercase",children:"Clear"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-calendar-event-line absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"datetime-local",value:i,onChange:t=>w(t.target.value),className:`w-full pl-10 pr-4 py-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl focus:ring-2 focus:ring-blue-500 text-sm font-medium outline-none ${i?"text-blue-600":"text-slate-500"}`})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-900 rounded-xl border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase",children:"Recipients:"}),e.jsx("span",{className:"text-sm font-black text-slate-900 dark:text-white",children:r.length})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-500 font-bold uppercase",children:"Est. Cost:"}),e.jsxs("span",{className:"text-sm font-black text-blue-600",children:[r.length," CREDITS"]})]})]}),e.jsx("button",{onClick:Q,disabled:y||r.length===0||!n.trim(),className:`w-full px-6 py-4 rounded-xl text-white font-bold text-sm tracking-wide disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap cursor-pointer transition-all shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:-translate-y-1 ${i?"bg-gradient-to-r from-purple-600 to-indigo-600":"bg-gradient-to-r from-blue-600 to-cyan-600"}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:`${i?"ri-calendar-check-fill":"ri-send-plane-fill"} mr-2`}),i?"Schedule Message":"Send Campaign"]})})]})})]}):m==="scheduled"?e.jsx("div",{className:"space-y-6",children:j.length===0?e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-calendar-todo-line text-4xl text-slate-300 dark:text-slate-500"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No Scheduled Messages"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-sm mx-auto",children:"Messages scheduled for later delivery will appear here. You can cancel them any time before delivery."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(t=>e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-6 hover:shadow-xl transition-all relative group overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/5 rounded-bl-full -mr-4 -mt-4"}),e.jsxs("div",{className:"flex items-start justify-between mb-4 relative z-10",children:[e.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase tracking-widest rounded-md border ${t.status==="pending"?"bg-purple-50 text-purple-700 border-purple-100":t.status==="sent"?"bg-green-50 text-green-700 border-green-100":"bg-slate-50 text-slate-600 border-slate-100"}`,children:t.status}),e.jsx("button",{onClick:()=>J(t.id),className:"w-8 h-8 rounded-full bg-rose-50 text-rose-500 hover:bg-rose-500 hover:text-white transition-colors flex items-center justify-center cursor-pointer",title:"Cancel Schedule",children:e.jsx("i",{className:"ri-delete-bin-line"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-400 mb-1",children:"Scheduled For"}),e.jsx("div",{className:"text-lg font-black text-slate-900 dark:text-white tracking-tight",children:new Date(t.scheduled_at).toLocaleDateString()}),e.jsx("div",{className:"text-sm font-medium text-purple-600",children:new Date(t.scheduled_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900 rounded-xl mb-4 text-sm text-slate-600 dark:text-slate-300 italic border-l-2 border-purple-400",children:['"',t.message,'"']}),e.jsx("div",{className:"flex items-center justify-between text-xs font-bold text-slate-500 uppercase tracking-wide",children:e.jsxs("span",{children:[e.jsx("i",{className:"ri-group-fill mr-1 text-slate-300"})," ",t.recipients.length," Recipient(s)"]})})]},t.id))})}):m==="topups"?e.jsx("div",{className:"space-y-6",children:C.length===0?e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-bank-card-line text-4xl text-slate-300 dark:text-slate-500"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No Purchase History"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-sm mx-auto",children:"SMS credit purchases will be tracked here for your reference."})]}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700 text-[10px] font-bold uppercase tracking-widest text-slate-400",children:[e.jsx("th",{className:"p-6",children:"Date"}),e.jsx("th",{className:"p-6",children:"Package"}),e.jsx("th",{className:"p-6",children:"Amount"}),e.jsx("th",{className:"p-6",children:"Reference"}),e.jsx("th",{className:"p-6",children:"Status"})]})}),e.jsx("tbody",{children:C.map(t=>e.jsxs("tr",{className:"border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"p-6 text-sm font-medium text-slate-600 dark:text-slate-300 whitespace-nowrap",children:new Date(t.created_at).toLocaleString()}),e.jsxs("td",{className:"p-6 text-sm font-black text-slate-900 dark:text-white",children:[t.units.toLocaleString()," UNITS"]}),e.jsxs("td",{className:"p-6 text-sm font-bold text-emerald-600",children:["GH₵ ",t.amount.toFixed(2)]}),e.jsx("td",{className:"p-6 text-xs font-mono text-slate-400",children:t.payment_reference}),e.jsx("td",{className:"p-6",children:e.jsx("span",{className:`px-2 py-1 text-[10px] font-bold uppercase tracking-widest rounded-md ${t.status==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-100":t.status==="failed"?"bg-rose-50 text-rose-700 border border-rose-100":"bg-amber-50 text-amber-700 border border-amber-100"}`,children:t.status})})]},t.id))})]})})})}):e.jsx("div",{className:"space-y-6",children:v.length===0?e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-history-line text-4xl text-slate-300 dark:text-slate-500"})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No Sent History"}),e.jsx("p",{className:"text-slate-500 font-medium max-w-sm mx-auto",children:"Messages you send will appear here for audit purposes."})]}):e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-3xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100 dark:border-slate-700 text-[10px] font-bold uppercase tracking-widest text-slate-400",children:[e.jsx("th",{className:"p-6",children:"Date Sent"}),e.jsx("th",{className:"p-6",children:"Message"}),e.jsx("th",{className:"p-6",children:"Recipients"}),e.jsx("th",{className:"p-6",children:"Sent By"})]})}),e.jsx("tbody",{children:v.map(t=>e.jsxs("tr",{className:"border-b border-slate-50 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"p-6 text-sm font-medium text-slate-600 dark:text-slate-300 whitespace-nowrap",children:new Date(t.created_at).toLocaleString()}),e.jsx("td",{className:"p-6",children:e.jsx("p",{className:"text-sm text-slate-900 dark:text-white max-w-md",children:t.action_details.message})}),e.jsx("td",{className:"p-6",children:e.jsxs("div",{className:"inline-flex items-center px-2.5 py-1 rounded-md bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-xs font-bold",children:[e.jsx("i",{className:"ri-user-line mr-1"})," ",t.action_details.recipient_count]})}),e.jsx("td",{className:"p-6 text-sm text-slate-500",children:t.user?.full_name||"System"})]},t.id))})]})})})})]}),O&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-xl rounded-3xl shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-800 animate-in zoom-in-95",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-slate-900 dark:text-white tracking-tight",children:"Purchase SMS Units"}),e.jsx("p",{className:"text-xs text-slate-500 font-bold uppercase tracking-wider",children:"Top up your broadcast balance"})]}),e.jsx("button",{onClick:()=>_(!1),className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 hover:bg-slate-200 transition-colors",children:e.jsx("i",{className:"ri-close-line text-xl"})})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:e.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-500/10 text-emerald-600 text-[10px] font-black uppercase tracking-widest rounded-full border border-emerald-500/20",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Rates synced with Arkesel Official"]})}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:q.map((t,s)=>e.jsxs("button",{disabled:I,onClick:()=>X(t),className:"group flex flex-col items-center justify-center p-4 sm:p-6 rounded-2xl border-2 border-slate-50 dark:border-slate-800 hover:border-indigo-500 hover:bg-indigo-50/10 transition-all text-center relative overflow-hidden active:scale-95 cursor-pointer shadow-sm hover:shadow-indigo-500/10",children:[e.jsx("div",{className:"absolute top-0 right-0 w-12 h-12 bg-indigo-500/5 rounded-bl-full group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 bg-slate-900/5 dark:bg-white/5 rounded-md text-[8px] font-black uppercase tracking-widest text-slate-400 dark:text-slate-500",children:t.type==="no-expiry"?"No Expiry":"30 Days"}),e.jsx("div",{className:"w-9 h-9 sm:w-12 sm:h-12 rounded-xl bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 flex items-center justify-center mb-3 text-lg sm:text-xl ring-4 ring-indigo-50 dark:ring-indigo-900/20",children:e.jsx("i",{className:t.icon})}),e.jsx("div",{className:"text-xl sm:text-2xl font-black text-slate-900 dark:text-white mb-1 leading-none",children:t.units.toLocaleString()}),e.jsx("div",{className:"text-[8px] sm:text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em] mb-4",children:t.label}),e.jsxs("div",{className:"w-full py-2 bg-indigo-600 text-white rounded-xl text-[10px] sm:text-sm font-black tracking-tight group-hover:scale-110 transition-transform shadow-lg shadow-indigo-600/20",children:["GH₵ ",t.price]})]},s))}),e.jsxs("div",{className:"mt-8 flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-900/30",children:[e.jsx("i",{className:"ri-information-line text-blue-600 text-lg"}),e.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-300 font-medium leading-relaxed",children:["Payments are securely processed via ",e.jsx("span",{className:"font-black text-indigo-600 dark:text-indigo-400",children:"Paystack"}),". Units will be added to your account record automatically upon successful verification."]})]})]})]})})]})}export{ce as default};
//# sourceMappingURL=SMSManagement-BuFhqd_2.js.map
