{"version":3,"file":"ContentManagement-BLPndkZS.js","sources":["../../src/pages/admin/ContentManagement.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport Navbar from '../../components/feature/Navbar';\r\nimport ImageUploader from '../../components/base/ImageUploader';\r\nimport { supabase } from '../../lib/supabase';\r\nimport { CONTENT_KEYS } from '../../hooks/useSiteContent';\r\n\r\n// Define the shape of our config\r\ninterface SiteConfig {\r\n    [key: string]: string;\r\n}\r\n\r\ninterface ContentItem {\r\n    label: string;\r\n    key: string;\r\n    type: 'image' | 'text';\r\n    placeholder?: string;\r\n}\r\n\r\ninterface ContentSection {\r\n    title: string;\r\n    description: string;\r\n    items: ContentItem[];\r\n}\r\n\r\nexport default function ContentManagement() {\r\n    const { profile } = useAuth();\r\n    const navigate = useNavigate();\r\n    const [activeTab, setActiveTab] = useState('images');\r\n    const [config, setConfig] = useState<SiteConfig>({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    // Notifications\r\n    const [notification, setNotification] = useState<{ type: 'success' | 'error' | 'info', message: string } | null>(null);\r\n\r\n    // Fetch current config from Storage (site_config.json)\r\n    useEffect(() => {\r\n        if (profile?.role !== 'admin' && profile?.role !== 'super_admin') {\r\n            navigate('/marketplace');\r\n            return;\r\n        }\r\n        fetchConfig();\r\n\r\n        // Subscribe to Global Alerts\r\n        const presenceChannel = supabase.channel('online-users');\r\n        presenceChannel\r\n            .on('presence', { event: 'join' }, ({ key, newPresences }) => {\r\n                const user = newPresences[0];\r\n                if (user && user.user_id !== profile?.id) {\r\n                    setNotification({\r\n                        type: 'info',\r\n                        message: `${user.full_name || 'A user'} came online`\r\n                    });\r\n                }\r\n            })\r\n            .subscribe();\r\n\r\n        return () => {\r\n            supabase.removeChannel(presenceChannel);\r\n        };\r\n    }, []);\r\n\r\n    // Auto-hide notification\r\n    useEffect(() => {\r\n        if (notification) {\r\n            const timer = setTimeout(() => setNotification(null), 4000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [notification]);\r\n\r\n    const fetchConfig = async () => {\r\n        try {\r\n            const { data, error } = await supabase.storage\r\n                .from('uploads')\r\n                .download('site_config.json');\r\n\r\n            if (error) {\r\n                console.warn('No config found or error:', error.message);\r\n                // If not found, ignore (use defaults)\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            if (data) {\r\n                const text = await data.text();\r\n                setConfig(JSON.parse(text));\r\n            }\r\n        } catch (err) {\r\n            console.error('Error fetching config:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const updateConfig = async (key: string, value: string) => {\r\n        const newConfig = { ...config, [key]: value };\r\n        setConfig(newConfig);\r\n\r\n        // Auto-save to cloud\r\n        setSaving(true);\r\n        try {\r\n            const blob = new Blob([JSON.stringify(newConfig)], { type: 'application/json' });\r\n            const { error } = await supabase.storage\r\n                .from('uploads')\r\n                .upload('site_config.json', blob, {\r\n                    contentType: 'application/json',\r\n                    upsert: true\r\n                });\r\n\r\n            if (error) throw error;\r\n\r\n            // Also update localStorage for immediate local feedback\r\n            localStorage.setItem(`site_content_${key}`, value);\r\n\r\n        } catch (err) {\r\n            console.error('Failed to save config:', err);\r\n            setNotification({ type: 'error', message: 'Failed to save changes' });\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    const imageSections: ContentSection[] = [\r\n        {\r\n            title: 'Home Page Hero',\r\n            description: 'The main slider images visible on the landing page.',\r\n            items: [\r\n                { label: 'Main Hero Image', key: CONTENT_KEYS.HOME_HERO_MAIN, type: 'image' },\r\n                { label: 'Secondary/Aerial Image', key: CONTENT_KEYS.HOME_HERO_AERIAL, type: 'image' },\r\n            ]\r\n        },\r\n        {\r\n            title: 'Section Banners',\r\n            description: 'Header images for specific site sections.',\r\n            items: [\r\n                { label: 'Marketplace Header', key: CONTENT_KEYS.MARKETPLACE_BANNER, type: 'image' },\r\n                { label: 'Campus News Header', key: CONTENT_KEYS.NEWS_BANNER, type: 'image' },\r\n            ]\r\n        }\r\n    ];\r\n\r\n    const textSections: ContentSection[] = [\r\n        {\r\n            title: 'Vital Announcements',\r\n            description: 'Important text displayed on the home page.',\r\n            items: [\r\n                { label: 'Announcement 1', key: 'home_announcement_1', type: 'text', placeholder: 'e.g. SRC Week starts next Monday!' },\r\n                { label: 'Announcement 2', key: 'home_announcement_2', type: 'text', placeholder: 'e.g. Exam registration deadline extended.' },\r\n                { label: 'Hero Headline', key: 'home_hero_headline', type: 'text', placeholder: 'e.g. The Future of Campus Living' },\r\n            ]\r\n        }\r\n    ];\r\n\r\n    const activeSections = activeTab === 'images' ? imageSections : textSections;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-300 pb-20 font-sans\">\r\n            <Navbar />\r\n\r\n            {/* Notification Toast */}\r\n            {notification && (\r\n                <div className={`fixed top-24 right-4 md:right-8 z-50 animate-in fade-in slide-in-from-right-8 duration-300 px-6 py-4 rounded-2xl shadow-2xl border flex items-center gap-3 backdrop-blur-md ${notification.type === 'success' ? 'bg-emerald-500/90 border-emerald-400/50 text-white' :\r\n                        notification.type === 'error' ? 'bg-rose-500/90 border-rose-400/50 text-white' :\r\n                            'bg-blue-500/90 border-blue-400/50 text-white'\r\n                    }`}>\r\n                    <i className={`${notification.type === 'success' ? 'ri-checkbox-circle-fill' : notification.type === 'error' ? 'ri-error-warning-fill' : 'ri-notification-3-fill'} text-xl`}></i>\r\n                    <span className=\"font-bold text-sm tracking-wide\">{notification.message}</span>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-32 md:pt-40 pb-12 box-border\">\r\n                <div className=\"mb-12\">\r\n                    <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                        <div>\r\n                            <div className=\"inline-flex items-center gap-2 px-3 py-1 bg-cyan-600 dark:bg-cyan-500 text-white text-[10px] font-bold uppercase tracking-[0.2em] rounded-full mb-6\">\r\n                                <i className=\"ri-layout-masonry-line\"></i>\r\n                                CMS Portal 1.0\r\n                            </div>\r\n                            <h1 className=\"text-4xl md:text-5xl font-black text-slate-900 dark:text-white tracking-tight leading-none mb-4\">\r\n                                Content<br /><span className=\"text-slate-400 dark:text-slate-600\">Manager.</span>\r\n                            </h1>\r\n                            <p className=\"text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest text-xs\">\r\n                                Update site imagery and assets in real-time.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex gap-3\">\r\n                            <button\r\n                                onClick={() => navigate('/admin/dashboard')}\r\n                                className=\"px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors text-xs font-bold uppercase tracking-wide whitespace-nowrap cursor-pointer flex items-center gap-2\"\r\n                            >\r\n                                <i className=\"ri-arrow-left-line text-lg\"></i>\r\n                                Dashboard\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Tabs */}\r\n                    <div className=\"mt-8 bg-white dark:bg-slate-800 p-1 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 inline-flex\">\r\n                        <button\r\n                            onClick={() => setActiveTab('images')}\r\n                            className={`px-6 py-2.5 rounded-lg text-xs font-bold uppercase tracking-widest transition-all ${activeTab === 'images'\r\n                                ? 'bg-cyan-600 text-white shadow-md'\r\n                                : 'text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700'\r\n                                }`}\r\n                        >\r\n                            <i className=\"ri-image-line mr-2\"></i>\r\n                            Imagery\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setActiveTab('text')}\r\n                            className={`px-6 py-2.5 rounded-lg text-xs font-bold uppercase tracking-widest transition-all ${activeTab === 'text'\r\n                                ? 'bg-cyan-600 text-white shadow-md'\r\n                                : 'text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700'\r\n                                }`}\r\n                        >\r\n                            <i className=\"ri-text mr-2\"></i>\r\n                            Text Content\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"py-20 text-center\">\r\n                        <div className=\"w-10 h-10 border-4 border-cyan-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n                        <p className=\"text-slate-400 font-bold uppercase tracking-widest text-xs\">Loading Configuration...</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-16\">\r\n                        {activeSections.map((section, idx) => (\r\n                            <div key={idx} className=\"bg-white dark:bg-slate-800 rounded-[2.5rem] p-8 md:p-12 shadow-sm border border-slate-100 dark:border-slate-700\">\r\n                                <div className=\"mb-10\">\r\n                                    <h2 className=\"text-2xl font-bold text-slate-900 dark:text-white tracking-tight\">{section.title}</h2>\r\n                                    <p className=\"text-slate-400 dark:text-slate-500 text-xs font-bold uppercase tracking-widest mt-2\">{section.description}</p>\r\n                                </div>\r\n\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-12\">\r\n                                    {section.items.map((item) => (\r\n                                        <div key={item.key} className=\"space-y-6\">\r\n                                            <div className=\"flex items-center justify-between\">\r\n                                                <span className=\"text-sm font-bold text-slate-700 dark:text-slate-300\">{item.label}</span>\r\n                                                {config[item.key] && (\r\n                                                    <span className=\"text-[10px] font-bold text-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 px-3 py-1 rounded-full uppercase tracking-wide\">\r\n                                                        Live\r\n                                                    </span>\r\n                                                )}\r\n                                            </div>\r\n\r\n                                            {item.type === 'image' ? (\r\n                                                <>\r\n                                                    <div className=\"relative group\">\r\n                                                        <ImageUploader\r\n                                                            currentImage={config[item.key]}\r\n                                                            onImageUploaded={(url) => updateConfig(item.key, url)}\r\n                                                            folder=\"cms\"\r\n                                                            size=\"large\"\r\n                                                            shape=\"square\"\r\n                                                            className=\"w-full aspect-video h-auto rounded-2xl overflow-hidden\"\r\n                                                        />\r\n                                                        {saving && (\r\n                                                            <div className=\"absolute top-4 right-4 bg-black/80 text-white text-[10px] font-bold px-3 py-1 rounded-full animate-pulse\">\r\n                                                                Saving...\r\n                                                            </div>\r\n                                                        )}\r\n                                                    </div>\r\n                                                    <div className=\"bg-slate-50 dark:bg-slate-900 p-4 rounded-xl break-all border border-slate-100 dark:border-slate-700\">\r\n                                                        <p className=\"text-[10px] font-mono text-slate-400 mb-1 uppercase\">Asset URL</p>\r\n                                                        <p className=\"text-xs text-slate-600 dark:text-slate-300 line-clamp-2\">\r\n                                                            {config[item.key] || 'Using System Default'}\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </>\r\n                                            ) : (\r\n                                                <div className=\"relative\">\r\n                                                    <textarea\r\n                                                        value={config[item.key] || ''}\r\n                                                        onChange={(e) => updateConfig(item.key, e.target.value)}\r\n                                                        placeholder={item.placeholder}\r\n                                                        rows={4}\r\n                                                        className=\"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-sm font-medium text-slate-900 dark:text-white focus:ring-2 focus:ring-cyan-500/20 focus:bg-white dark:focus:bg-slate-800 transition-all resize-none\"\r\n                                                    />\r\n                                                    <p className=\"text-xs text-slate-400 mt-2 text-right\">\r\n                                                        {config[item.key]?.length || 0} characters\r\n                                                    </p>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":["ContentManagement","profile","useAuth","navigate","useNavigate","activeTab","setActiveTab","useState","config","setConfig","loading","setLoading","saving","setSaving","notification","setNotification","useEffect","fetchConfig","presenceChannel","supabase","key","newPresences","user","timer","data","error","text","err","updateConfig","value","newConfig","blob","imageSections","CONTENT_KEYS","activeSections","jsxs","jsx","Navbar","section","idx","item","Fragment","ImageUploader","url","e"],"mappings":"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"}