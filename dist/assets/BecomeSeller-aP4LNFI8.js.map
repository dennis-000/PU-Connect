{"version":3,"file":"BecomeSeller-aP4LNFI8.js","sources":["../../src/pages/seller/BecomeSeller.tsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { supabase } from '../../lib/supabase';\r\n\r\nexport default function BecomeSeller() {\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    const checkSellerStatus = async () => {\r\n      if (!user) {\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      // Check if user already has an application\r\n      const { data: application } = await supabase\r\n        .from('seller_applications')\r\n        .select('*')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n\r\n      if (application) {\r\n        if (application.status === 'approved') {\r\n          // Check payment status\r\n          const { data: profile } = await supabase\r\n            .from('seller_profiles')\r\n            .select('*')\r\n            .eq('user_id', user.id)\r\n            .single();\r\n\r\n          if (profile?.payment_status === 'pending') {\r\n            navigate('/seller/payment');\r\n          } else if (profile?.subscription_status === 'active') {\r\n            navigate('/seller/dashboard');\r\n          }\r\n        } else if (application.status === 'pending') {\r\n          alert('Your application is pending review');\r\n          navigate('/');\r\n        }\r\n      } else {\r\n        // No application, redirect to apply page\r\n        navigate('/seller/apply');\r\n      }\r\n    };\r\n\r\n    checkSellerStatus();\r\n  }, [user, navigate]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-950 transition-colors duration-300\">\r\n      <div className=\"text-center\">\r\n        <div className=\"w-12 h-12 border-4 border-gray-100 dark:border-gray-800 border-t-blue-600 dark:border-t-blue-600 rounded-full animate-spin mx-auto mb-6\"></div>\r\n        <p className=\"text-gray-500 dark:text-gray-400 font-bold uppercase tracking-widest text-[10px]\">Processing Status...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["BecomeSeller","navigate","useNavigate","user","useAuth","useEffect","application","supabase","profile","jsxs","jsx"],"mappings":"4NAKA,SAAwBA,GAAe,CACrC,MAAMC,EAAWC,EAAA,EACX,CAAE,KAAAC,CAAA,EAASC,EAAA,EAEjBC,OAAAA,EAAAA,UAAU,IAAM,EACY,SAAY,CACpC,GAAI,CAACF,EAAM,CACTF,EAAS,QAAQ,EACjB,MACF,CAGA,KAAM,CAAE,KAAMK,CAAA,EAAgB,MAAMC,EACjC,KAAK,qBAAqB,EAC1B,OAAO,GAAG,EACV,GAAG,UAAWJ,EAAK,EAAE,EACrB,OAAA,EAEH,GAAIG,EACF,GAAIA,EAAY,SAAW,WAAY,CAErC,KAAM,CAAE,KAAME,CAAA,EAAY,MAAMD,EAC7B,KAAK,iBAAiB,EACtB,OAAO,GAAG,EACV,GAAG,UAAWJ,EAAK,EAAE,EACrB,OAAA,EAECK,GAAS,iBAAmB,UAC9BP,EAAS,iBAAiB,EACjBO,GAAS,sBAAwB,UAC1CP,EAAS,mBAAmB,CAEhC,MAAWK,EAAY,SAAW,YAChC,MAAM,oCAAoC,EAC1CL,EAAS,GAAG,QAIdA,EAAS,eAAe,CAE5B,GAEA,CACF,EAAG,CAACE,EAAMF,CAAQ,CAAC,QAGhB,MAAA,CAAI,UAAU,2GACb,SAAAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,cACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,yIAAA,CAA0I,EACzJA,EAAAA,IAAC,IAAA,CAAE,UAAU,mFAAmF,SAAA,sBAAA,CAAoB,CAAA,CAAA,CACtH,CAAA,CACF,CAEJ"}