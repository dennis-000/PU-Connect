import{j as e}from"./query-vendor-CC_3ftG1.js";import{u as y,r as l}from"./react-vendor-Bsfkyusf.js";import{s as h,N as k,g as n}from"./index-BpkOjQCb.js";import"./i18n-vendor-CQdsz7qV.js";import"./supabase-vendor-C3liu3n-.js";function E(){const b=y(),[c,f]=l.useState([]),[g,d]=l.useState(!0),[t,o]=l.useState(null),[r,p]=l.useState([]),[j,x]=l.useState(!1),[i,N]=l.useState("");l.useEffect(()=>{v()},[]);const v=async()=>{try{d(!0);const{data:s,error:a}=await h.from("seller_profiles").select(`
          *,
          user:profiles!user_id (
            full_name,
            email,
            phone
          )
        `).order("created_at",{ascending:!1});if(a)throw a;f(s||[])}catch(s){console.error("Error fetching sellers:",s)}finally{d(!1)}},w=async s=>{o(s),x(!0);try{const{data:a,error:u}=await h.from("products").select("*").eq("seller_id",s.user_id).order("created_at",{ascending:!1});if(u)throw u;p(a||[])}catch(a){console.error("Error fetching seller products:",a)}finally{x(!1)}},m=c.filter(s=>s.business_name.toLowerCase().includes(i.toLowerCase())||s.user?.full_name.toLowerCase().includes(i.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[e.jsx(k,{}),e.jsxs("div",{className:"max-w-[1600px] mx-auto px-6 lg:px-8 pt-32 pb-20",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>t?o(null):b("/admin/dashboard"),className:"w-10 h-10 rounded-xl bg-slate-800 border border-slate-700 flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 transition-all",children:e.jsx("i",{className:"ri-arrow-left-line"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:t?t.business_name:"Registered Merchants"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:t?"Merchant Profile & Inventory":"Manage and monitor all active sellers"})]})]}),t?e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 animate-in slide-in-from-right-8 duration-500",children:[e.jsx("div",{className:"xl:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-slate-800/80 backdrop-blur-xl rounded-[2.5rem] p-8 border border-slate-700 shadow-xl overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/10 rounded-full blur-3xl -mr-32 -mt-32"}),e.jsxs("div",{className:"relative z-10 text-center",children:[e.jsx("div",{className:"w-40 h-40 mx-auto rounded-[2rem] bg-slate-900 border-4 border-slate-700/50 overflow-hidden mb-6 shadow-2xl group",children:t.business_logo?e.jsx("img",{src:n(t.business_logo,400,400),alt:t.business_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-600",children:e.jsx("i",{className:"ri-store-3-line text-5xl"})})}),e.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:t.business_name}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-500/10 text-blue-400 text-xs font-black uppercase tracking-widest border border-blue-500/20 mb-8",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 animate-pulse"}),t.business_category]}),e.jsxs("div",{className:"space-y-4 text-left",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-900/50 border border-slate-700/50 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center text-slate-400",children:e.jsx("i",{className:"ri-user-3-line"})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Merchant Name"}),e.jsx("p",{className:"text-white font-bold",children:t.user?.full_name})]})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-900/50 border border-slate-700/50 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center text-slate-400",children:e.jsx("i",{className:"ri-mail-send-line"})}),e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Email Address"}),e.jsx("p",{className:"text-white font-bold truncate",children:t.contact_email})]})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-slate-900/50 border border-slate-700/50 flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center text-slate-400",children:e.jsx("i",{className:"ri-phone-line"})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Phone Number"}),e.jsx("p",{className:"text-white font-bold",children:t.contact_phone})]})]})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-slate-700/50",children:e.jsxs("div",{className:"flex justify-between items-center text-xs font-medium text-slate-500",children:[e.jsx("span",{children:"Joined Platform"}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})})]})})]})]})}),e.jsx("div",{className:"xl:col-span-2",children:e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-[2.5rem] p-8 border border-slate-700/50 min-h-[600px]",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[e.jsx("i",{className:"ri-layout-grid-line text-blue-500"}),"Merchant Inventory"]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Analyzing all listed products and services"})]}),e.jsxs("span",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl text-sm font-bold border border-slate-700 shadow-lg",children:[r.length," Items Listed"]})]}),j?e.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-6"}),e.jsx("p",{className:"text-sm font-black text-slate-500 uppercase tracking-widest",children:"Fetching Inventory..."})]}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-slate-500 bg-slate-900/30 rounded-[2rem] border-2 border-dashed border-slate-800",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-2xl flex items-center justify-center mb-4",children:e.jsx("i",{className:"ri-shopping-basket-2-line text-3xl opacity-50"})}),e.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No products in inventory"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4",children:r.map(s=>e.jsxs("div",{className:"bg-slate-900/80 border border-slate-700/50 rounded-2xl p-4 flex gap-5 group hover:border-blue-500/30 hover:bg-slate-900 transition-all duration-300",children:[e.jsxs("div",{className:"w-24 h-24 bg-slate-800 rounded-xl overflow-hidden flex-shrink-0 relative",children:[s.images?.[0]?e.jsx("img",{src:n(s.images[0],200,200),className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-600",children:e.jsx("i",{className:"ri-image-line text-2xl"})}),e.jsx("div",{className:`absolute top-2 left-2 w-2.5 h-2.5 rounded-full border-2 border-slate-900 ${s.is_active?"bg-emerald-500":"bg-rose-500"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsx("h4",{className:"font-bold text-lg text-white truncate pr-2 group-hover:text-blue-400 transition-colors",title:s.name,children:s.name}),e.jsx("p",{className:"text-emerald-400 font-black text-lg",children:s.price_type==="fixed"?`GHâ‚µ${s.price}`:"Negotiable"}),e.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-500 uppercase tracking-wider bg-slate-800 px-2 py-1 rounded-lg",children:[e.jsx("i",{className:"ri-eye-fill text-blue-500"})," ",s.views_count]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] font-bold text-slate-500 uppercase tracking-wider bg-slate-800 px-2 py-1 rounded-lg",children:[e.jsx("i",{className:"ri-time-line text-amber-500"})," ",new Date(s.created_at).toLocaleDateString()]})]})]})]},s.id))})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("i",{className:"ri-search-line absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by business name or owner...",value:i,onChange:s=>N(s.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-800/50 border border-slate-700 rounded-2xl text-white placeholder:text-slate-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all outline-none font-medium"})]}),e.jsxs("div",{className:"px-6 py-4 bg-slate-800/50 border border-slate-700 rounded-2xl flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center text-emerald-400",children:e.jsx("i",{className:"ri-store-2-fill"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-wider text-slate-500",children:"Total Merchants"}),e.jsx("p",{className:"text-lg font-black text-white leading-none",children:c.length})]})]})]}),g?e.jsx("div",{className:"flex justify-center py-40",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-slate-500 font-bold animate-pulse",children:"Loading Merchants..."})]})}):m.length===0?e.jsxs("div",{className:"text-center py-40 bg-slate-800/30 rounded-[3rem] border border-slate-700/30 backdrop-blur-sm",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"ri-store-2-line text-5xl text-slate-600"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Merchants Found"}),e.jsx("p",{className:"text-slate-400",children:"Try adjusting your search terms"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(s=>e.jsxs("div",{onClick:()=>w(s),className:"group relative bg-slate-800/50 border border-slate-700/50 rounded-[2rem] p-6 cursor-pointer hover:bg-slate-800 hover:border-blue-500/30 transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-700/50 overflow-hidden border border-slate-600/50 group-hover:border-blue-500/50 transition-colors shadow-lg",children:s.business_logo?e.jsx("img",{src:n(s.business_logo,100,100),alt:s.business_name,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-500",children:e.jsx("i",{className:"ri-store-3-line text-2xl"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-blue-400 transition-colors truncate",children:s.business_name}),e.jsx("span",{className:"inline-block px-2 py-0.5 rounded-md bg-white/5 border border-white/10 text-[10px] font-bold text-slate-400 uppercase tracking-wider mt-1",children:s.business_category})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 group-hover:text-slate-300 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-700/50 flex items-center justify-center text-blue-500/70",children:e.jsx("i",{className:"ri-user-smile-line"})}),e.jsx("span",{className:"truncate font-medium",children:s.user?.full_name||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 group-hover:text-slate-300 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-700/50 flex items-center justify-center text-blue-500/70",children:e.jsx("i",{className:"ri-mail-line"})}),e.jsx("span",{className:"truncate font-medium",children:s.contact_email||s.user?.email})]})]}),e.jsx("div",{className:"absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-2 group-hover:translate-x-0 duration-300",children:e.jsx("i",{className:"ri-arrow-right-line text-slate-400"})})]},s.id))})]})]})]})}export{E as default};
//# sourceMappingURL=SellersList-ufxcKNE-.js.map
